webpackJsonp([0],{"2zNh":function(t,e,a){t.exports=a.p+"static/img/icon.b9700ec.png"},BcEq:function(t,e,a){"use strict";a.d(e,"g",function(){return r}),a.d(e,"l",function(){return n}),a.d(e,"d",function(){return o}),a.d(e,"a",function(){return s}),a.d(e,"e",function(){return i}),a.d(e,"k",function(){return l}),a.d(e,"i",function(){return c}),a.d(e,"h",function(){return u}),a.d(e,"j",function(){return d}),a.d(e,"f",function(){return p}),a.d(e,"b",function(){return v}),a.d(e,"c",function(){return f});var r="LOAD",n="USER",o="COURSE",s="ANNOUNCE",i="HOMEWORK",l="TEXTBOOK",c="SCORE",u="ROLL",d="SETTING",p="HWFILE",v="ANNOUNCE_NOTIFY",f="CLEAR"},DEN3:function(t,e){t.exports={sso:{login:"/sso/login_check.php",logout:"/sso/logout_check.php",index:"/sso/index.php",ssoIndex:"/sso/sso_index.php",authcode:"/sso/misc/imgcode.php"},ecourse:{HOST:"https://ecourse.ccu.edu.tw",LOGIN:"/ec/php/index_login.php",LOGOUT:"/ec/php/logout.php",INDEX:"/ec/php/Courses_Admin/take_course.php?frame=1",INTRO:"/ec/php/Courses_Admin/intro.php",MOBILE:"/ec/ecourse/php/index_login.php",ANNOUNCE:"/ec/ecourse/php/courses_news/news.php",HOMEWORK:"/ec/ecourse/php/courses_homework/homework.php",TEXTBOOK:"/ec/ecourse/php/courses_textbook/material.php",COURSE_SELECT:"/ec/php/login_s.php",COURSE_SCORE:"/ec/php/Trackin/SGQueryFrame1.php",UNDER_DIR_FILE:"/ec/ecourse/php/courses_homework/UnderDirFile.php",SHOW_WORK:"/ec/php/Testing_Assessment/show_allwork.php",TEACHER_INFO:"/ec/php/Learner_Profile/show_teacher_info.php",ROLL:"/ec/php/Trackin/ShowStudentRollBook.php",PING:"/ec/php/online/online.php"}}},IcnI:function(t,e,a){"use strict";var r=a("/5sW"),n=a("NYxO"),o=a("ukYY"),s=a("UjVw"),i=a("mUbh");r.a.use(n.a),e.a=new n.a.Store({state:{userData:{loggedIn:!1,username:"",name:"",studentId:"",department:"",classes:""},template:{},courseList:[],announceData:{},homeworkData:{},textbookData:{},scoreData:{},rollData:{},settingData:{},homeworkFile:{},announceNotify:{}},mutations:o.a,getters:s,actions:i,strict:!1})},"Lg+u":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{key:t.$route.params.id,attrs:{row:"row",wrap:"wrap"}},[a("v-snackbar",{staticClass:"short",attrs:{timeout:1500,top:t.toast.top,left:t.toast.left,right:t.toast.right,bottom:t.toast.bottom,color:t.toast.color},model:{value:t.toast.show,callback:function(e){t.$set(t.toast,"show",e)},expression:"toast.show"}},[t._v(t._s(t.toast.message))]),a("transition",{attrs:{name:"slide-x-transition"}},[t.isMobile&&"announce"===t.tag||!t.isMobile&&"score"!==t.tag?a("v-flex",{staticClass:"pl-2",attrs:{xs12:"xs12",md4:"md4"}},[a("v-card",{staticClass:"main-card elevation-1",attrs:{color:"grey lighten-5",flat:"flat"}},[a("v-toolbar",{staticStyle:{overflow:"hidden"},attrs:{dark:"dark",color:"primary",flat:"flat"}},[a("v-toolbar-side-icon",{directives:[{name:"show",rawName:"v-show",value:t.search.title,expression:"search.title"}]},[a("v-icon",[t._v("mdi-menu")])],1),a("v-toolbar-title",{directives:[{name:"show",rawName:"v-show",value:t.search.title,expression:"search.title"}],staticClass:"no-select"},[t._v("公告")]),a("v-spacer"),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.search.flag,expression:"!search.flag"}],staticClass:"mr-3",attrs:{ripple:!1,icon:"icon","aria-label":"search"},on:{click:t.toggleSearch}},[a("v-icon",[t._v("mdi-magnify")])],1),a("v-text-field",{ref:"search",staticClass:"exp-search",class:{open:t.search.flag},attrs:{type:"text",label:"搜尋標題",solo:"solo","prepend-icon":"mdi-magnify",light:"light"},on:{blur:t.toggleSearch},model:{value:t.search.keyword,callback:function(e){t.$set(t.search,"keyword",e)},expression:"search.keyword"}})],1),a("v-list",{staticClass:"tile-hover pa-0",attrs:{"two-line":"two-line",subheader:"subheader"}},[a("v-subheader",{directives:[{name:"show",rawName:"v-show",value:t.search.keyword,expression:"search.keyword"}]},[t._v("搜尋結果")]),t._l(t.AnnounceList.list,function(e,r){return[a("v-list-tile",{directives:[{name:"show",rawName:"v-show",value:-1!==e.title.indexOf(t.search.keyword),expression:"item.title.indexOf(search.keyword) !== -1"}],key:e.id,attrs:{avatar:"avatar"},nativeOn:{click:function(e){t.showAnnounce(r)}}},[a("v-list-tile-avatar",[e.timeStamp?a("v-badge",{staticClass:"notify",attrs:{overlap:"overlap",color:"red"},model:{value:t.AnnNotify[e.id],callback:function(a){t.$set(t.AnnNotify,e.id,a)},expression:"AnnNotify[item.id]"}},[a("span",{attrs:{slot:"badge"},slot:"badge"}),a("v-icon",{attrs:{medium:"medium"}},[t._v("mdi-widgets")])],1):t._e()],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))]),a("v-list-tile-sub-title",[t._v(t._s(e.timeStamp))])],1)],1),t.Setting.showDivider?a("v-divider"):t._e()]})],2)],1)],1):t._e()],1),a("transition",{attrs:{name:t.isMobile?"slide-x-transition":"slide-y-transition"}},[t.isMobile&&"homework"===t.tag||!t.isMobile&&"score"!==t.tag?a("v-flex",{staticClass:"pl-2",attrs:{xs12:"xs12",md4:"md4"}},[a("v-card",{staticClass:"main-card elevation-1",attrs:{id:"homework",color:"grey lighten-5",flat:"flat"}},[a("v-toolbar",{attrs:{color:"green",flat:"flat",dark:"dark"}},[a("v-toolbar-side-icon",[a("v-icon",[t._v("mdi-menu")])],1),a("v-toolbar-title",{staticClass:"no-select"},[t._v("作業")]),a("v-spacer"),a("v-tooltip",{staticClass:"mr-0 hidden-sm-and-down",attrs:{left:"left"}},[a("v-btn",{attrs:{slot:"activator",icon:"icon","aria-label":"score"},on:{click:t.showScore},slot:"activator"},[a("v-icon",[t._v("mdi-chart-line")])],1),a("span",[t._v("成績")])],1)],1),a("v-list",{staticClass:"tile-hover pa-0",attrs:{"two-line":"two-line",subheader:"subheader"}},[t._l(t.HomeworkList.list,function(e,r){return[a("v-list-tile",{key:r,attrs:{ripple:"ripple",avatar:"avatar"},nativeOn:{click:function(e){t.showHomework(r)}}},[e.id?[a("v-list-tile-avatar",[a("v-icon",{attrs:{medium:"medium"}},[t._v("mdi-clipboard-text")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))]),a("v-list-tile-sub-title",[t._v(t._s(e.timeStamp)+" / "+t._s(e.percentage)+"%")])],1),t.HwFile[e.id]&&t.HwFile[e.id].type?a("v-list-tile-action",[a("v-tooltip",{attrs:{top:"top"}},[a("v-btn",{attrs:{slot:"activator",icon:"icon","aria-label":"type"},on:{click:function(a){a.stopPropagation(),t.downloadQues(e.id,t.HwFile[e.id].type)}},slot:"activator"},[a("v-icon",{attrs:{large:"large",color:"grey lighten-1"}},[t._v(t._s(t.fileType[t.HwFile[e.id].type]||"mdi-file"))])],1),a("span",[t._v("作業題目")])],1)],1):t._e(),t.isMobile?t._e():a("v-list-tile-action",[a("v-btn",{attrs:{icon:"icon","aria-label":"upload"},on:{click:function(a){a.stopPropagation(),t.showUpload(e.id)}}},[a("v-icon",{attrs:{large:"large",color:"grey"}},[t._v("mdi-upload")])],1)],1)]:[a("v-list-tile-avatar"),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))])],1)]],2),t.Setting.showDivider?a("v-divider"):t._e()]})],2)],1)],1):t._e()],1),a("transition",{attrs:{name:t.isMobile?"slide-x-transition":"slide-x-reverse-transition"}},[t.isMobile&&"textbook"===t.tag||!t.isMobile&&"score"!==t.tag?a("v-flex",{staticClass:"pl-2",attrs:{xs12:"xs12",md4:"md4"}},[a("v-card",{staticClass:"main-card elevation-1",attrs:{id:"textbook",color:"grey lighten-5",flat:"flat"}},[a("v-toolbar",{attrs:{color:"orange",flat:"flat",dark:"dark"}},[a("v-toolbar-side-icon",[a("v-icon",[t._v("mdi-menu")])],1),a("v-toolbar-title",{staticClass:"no-select"},[t._v("教材")]),a("v-spacer"),a("v-btn",{staticClass:"mr-2",attrs:{"aria-label":"search",icon:"icon"}},[a("v-icon",[t._v("mdi-magnify")])],1)],1),a("v-list",{staticClass:"pa-0",attrs:{"two-line":"two-line",subheader:"subheader"}},[t.Setting.showIntro?a("v-list-tile",{on:{click:t.downloadIntro}},[a("v-list-tile-avatar",[a("v-icon",{attrs:{large:"large"}},[t._v("mdi-file-account")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("授課大綱")])],1)],1):t._e(),t.Setting.showDivider?a("v-divider"):t._e(),t.Setting.showTeacherInfo?a("v-list-tile",{on:{click:t.downloadTeaIndo}},[a("v-list-tile-avatar",[a("v-icon",{attrs:{large:"large"}},[t._v("mdi-file-account")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("教師資訊")])],1)],1):t._e(),t.Setting.showDivider?a("v-divider"):t._e(),t._l(t.TextbookList.list,function(e,r){return[t.TextbookList.content[r][0]?a("v-list-group",{key:e[0],staticClass:"hot-fix-for-list",attrs:{value:0===r&&t.Setting.expandFirstFolder,"prepend-icon":"mdi-folder","append-icon":"mdi-chevron-down"}},[a("v-list-tile",{attrs:{slot:"activator",ripple:"ripple"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e[0]))])],1)],1),t._l(t.TextbookList.content[r][0],function(e){return[a("v-list-tile",{key:e[0],attrs:{title:e[0]},nativeOn:{click:function(a){t.downloadTextbook(e[1])}}},[a("v-list-tile-action",[a("v-icon",{attrs:{large:"large"}},[t._v(t._s(t.fileType[e[4]]||"mdi-file"))])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e[0]))]),a("v-list-tile-sub-title",[t._v(t._s(e[3].split(" ")[0]))])],1)],1),t.Setting.showDivider?a("v-divider"):t._e()]})],2):t._e(),t.Setting.showDivider?a("v-divider"):t._e()]})],2)],1)],1):t._e()],1),a("transition",{attrs:{name:t.isMobile?"slide-x-transition":"slide-y-reverse-transition"}},["score"===t.tag?a("v-flex",{staticClass:"pl-2",attrs:{xs12:"xs12",md6:"md6","offset-md1":"offset-md1"}},[a("v-card",{staticClass:"main-card score-card",class:{"elevation-1":!t.Setting.scoreStyle2},attrs:{id:"score",color:"grey lighten-5",flat:"flat"}},[a("v-toolbar",{attrs:{color:"red",flat:"flat",dark:"dark"}},[a("v-toolbar-side-icon",{staticClass:"ml-2"},[a("v-icon",[t._v("mdi-menu")])],1),a("v-toolbar-title",[t._v("成績")]),a("v-spacer"),a("v-tooltip",{staticClass:"mr-0 hidden-sm-and-down",attrs:{left:"left"}},[a("v-btn",{attrs:{slot:"activator",icon:"icon","aria-label":"score"},on:{click:function(e){t.tag="yo~~"}},slot:"activator"},[a("v-icon",[t._v("mdi-clipboard-text")])],1),a("span",[t._v("作業")])],1)],1),t._l(t.ScoreData,function(e,r){return e&&e.length?[a("v-list",{staticClass:"tile-hover pa-0",class:{stripe:!t.Setting.scoreStyle2,"block-score":t.Setting.scoreStyle2},attrs:{subheader:"subheader"}},[a("v-subheader",[t._v(t._s(r))]),t._l(e,function(e){return a("v-list-tile",{key:e.name+e.percentage,class:{"yellow lighten-1":"總成績"===r,"color-indicator":t.Setting.rankColorBlock,"score-item":t.Setting.scoreStyle2,"elevation-1":t.Setting.scoreStyle2},style:{"border-color":e.color},attrs:{ripple:"ripple",avatar:"avatar"},on:{click:function(t){}}},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.name))]),a("v-list-tile-sub-title",[t._v(t._s(e.percentage))])],1),a("v-list-tile-action",[a("v-btn",{attrs:{flat:"flat","aria-label":"rank",outline:"outline"}},[t._v(t._s(e.rank))])],1),a("v-list-tile-action",[a("v-btn",{attrs:{flat:"flat","aria-label":"score",outline:"outline"}},[t._v(t._s(e.score))])],1)],1)})],2)]:t._e()})],2)],1):t._e()],1),a("transition",{attrs:{name:t.isMobile?"slide-x-transition":"slide-y-reverse-transition"}},["score"===t.tag?a("v-flex",{staticClass:"pl-2",attrs:{xs12:"xs12",md4:"md4"}},[a("v-card",{staticClass:"main-card score-card elevation-1",class:{"mt-5":t.isMobile},attrs:{id:"roll",color:"grey lighten-5",flat:"flat"}},[a("v-toolbar",{attrs:{color:"purple",flat:"flat",dark:"dark"}},[a("v-toolbar-side-icon",{staticClass:"ml-2"},[a("v-icon",[t._v("mdi-menu")])],1),a("v-toolbar-title",[t._v("點名")])],1),a("v-layout",{staticClass:"fix-flex",attrs:{row:"row",wrap:"wrap"}},[t._l(t.RollData,function(e){return[a("v-flex",{staticClass:"fix-flex-item roll-wrapper",attrs:{xs3:"xs3",sm3:"sm3",md2:"md2"}},[a("div",{staticClass:"roll-item"},[a("div",{staticClass:"text",staticStyle:{"font-weight":"800"}},[t._v(t._s(e[0]))]),"出席"===e[1]?a("div",{staticClass:"checkmark"}):t._e()])])]}),t.RollData.length?t._e():a("v-flex",{attrs:{xs12:"xs12"}},[a("v-card",{attrs:{flat:"flat"}},[a("v-card-title",[t._v("沒有點名資料")])],1)],1)],2)],1)],1):t._e()],1),a("v-dialog",{attrs:{"max-width":t.isMobile?350:490},model:{value:t.announce.flag,callback:function(e){t.$set(t.announce,"flag",e)},expression:"announce.flag"}},[a("v-card",{staticClass:"announce-dialog-box",attrs:{id:"announce"}},[a("v-snackbar",{attrs:{timeout:1e3,top:"top",absolute:"absolute",color:"success"},model:{value:t.announce.toastShow,callback:function(e){t.$set(t.announce,"toastShow",e)},expression:"announce.toastShow"}},[t._v(t._s(t.announce.message))]),a("v-card-title",{staticClass:"headline"},[a("div",{staticClass:"text-xs-center",class:{"hidden-more-text":t.isMobile}},[a("span",[t._v(t._s(t.announce.title))])]),a("v-spacer"),a("v-tooltip",{attrs:{top:"top"}},[a("v-btn",{attrs:{slot:"activator",icon:"icon","aria-label":"copy"},on:{click:t.copyAnnounce},slot:"activator"},[a("v-icon",[t._v("mdi-content-copy")])],1),a("span",[t._v("複製")])],1)],1),a("v-card-text",{domProps:{innerHTML:t._s(t.announce.content)}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"flat","aria-label":"close",color:"green darken-1"},nativeOn:{click:function(e){t.announce.flag=!1}}},[t._v("關閉")]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"490"},model:{value:t.homework.flag,callback:function(e){t.$set(t.homework,"flag",e)},expression:"homework.flag"}},[a("v-card",{staticClass:"announce-dialog-box",attrs:{id:"hw"}},[a("v-card-title",{staticClass:"headline"},[a("div",{staticClass:"text-xs-center",class:{"hidden-more-text":t.isMobile}},[a("span",[t._v(t._s(t.homework.title))])]),a("v-spacer"),t.isMobile?a("v-btn",{attrs:{icon:"icon","aria-label":"upload"},on:{click:function(e){t.showUpload(t.homework.id)}}},[a("v-icon",{attrs:{color:"grey darken-2"}},[t._v("mdi-upload")])],1):t._e()],1),a("v-card-text",{domProps:{innerHTML:t._s(t.homework.content)}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"flat","aria-label":"close",color:"green darken-1"},nativeOn:{click:function(e){t.homework.flag=!1}}},[t._v("關閉")]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600",persistent:"persistent"},model:{value:t.uploadHW.flag,callback:function(e){t.$set(t.uploadHW,"flag",e)},expression:"uploadHW.flag"}},[a("v-card",{staticClass:"announce-dialog-box",staticStyle:{"background-color":"#f2f2f2"},attrs:{id:"file-upload"}},[a("v-snackbar",{attrs:{timeout:1e3,top:!0,bottom:!1,color:t.uploadHW.toastColor,absolute:!0},model:{value:t.uploadHW.toastShow,callback:function(e){t.$set(t.uploadHW,"toastShow",e)},expression:"uploadHW.toastShow"}},[t._v(t._s(t.uploadHW.message))]),a("div",{staticClass:"headline text-xs-center pa-3"},[t._v("作業上傳"),a("v-btn",{staticClass:"right ma-0",attrs:{icon:"icon",ripple:"ripple","aria-label":"close"},on:{click:function(e){t.uploadHW.flag=!1}}},[a("v-icon",{attrs:{medium:"medium"}},[t._v("mdi-close")])],1)],1),a("v-layout",{attrs:{row:"row",wrap:"wrap"}},[a("v-container",{attrs:{fluid:"fluid"}},[a("v-subheader",{staticStyle:{color:"rgba(0,0,0,0.54)"}},[t._v("已交作業")]),a("v-layout",{attrs:{row:"row",wrap:"wrap"}},t._l(t.uploadHW.list,function(e){return a("v-flex",{key:e.id,staticClass:"upload-wrapper",attrs:{xs12:"xs12",sm6:"sm6"}},[a("div",{staticClass:"white upload-item elevation-2"},[a("v-text-field",{class:{"input-group--focused":e.success},attrs:{"append-icon":e.success?"mdi-check-circle":e.new?"mdi-auto-fix":"mdi-delete","append-icon-cb":function(){return t.removeAnswer(e.name)},color:e.success?"green":"gray",loading:"loading",readonly:"readonly",label:e.size},nativeOn:{click:function(a){t.downloadAns(e.name)}},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"file.name"}},[e.new?a("v-progress-linear",{attrs:{slot:"progress",indeterminate:!0,value:1,height:"4"},slot:"progress"}):t._e()],1)],1)])})),a("v-subheader",{staticStyle:{color:"rgba(0,0,0,0.54)"}},[t._v("上傳檔案    "),a("span",{staticClass:"red--text"},[t._v("※檔案上限為20mb")])]),a("v-flex",{attrs:{xs12:"xs12"}},[a("v-layout",{attrs:{row:"row",wrap:"wrap"}},[a("v-flex",{attrs:{xs8:"xs8",sm9:"sm9",md10:"md10"}},[a("v-text-field",{staticClass:"white-text-field",staticStyle:{"margin-top":"-18px"},attrs:{label:"直接上傳答案文字",textarea:"textarea","auto-grow":"auto-grow"},model:{value:t.uploadHW.content,callback:function(e){t.$set(t.uploadHW,"content",e)},expression:"uploadHW.content"}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs4:"xs4",sm3:"sm3",md2:"md2"}},[a("v-tooltip",{attrs:{left:"left"}},[a("v-btn",{staticClass:"mt-0 send-text-btn",attrs:{slot:"activator","aria-label":"send",color:"red darken-1",block:"block",dark:"dark"},on:{click:function(e){t.uploadText(e)}},slot:"activator"},[a("v-icon",[t._v("mdi-send")])],1),a("span",[t._v("送出")])],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"xs12"}},[a("v-layout",{attrs:{row:"row",wrap:"wrap"}},[a("v-flex",{attrs:{xs6:"xs6"}},[a("v-card",{staticClass:"upload-type",staticStyle:{"margin-right":"5px"},attrs:{color:"blue darken-1",dark:"dark"},nativeOn:{click:function(e){t.$refs.uploadInput.click()}}},[a("p",{staticClass:"text-xs-center"},[a("v-icon",{attrs:{dark:"dark"}},[t._v("mdi-upload")]),t._v("上傳檔案")],1),a("input",{ref:"uploadInput",attrs:{type:"file",multiple:!1},on:{change:function(e){t.uploadFile(e,!1)}}})])],1),a("v-flex",{attrs:{xs6:"xs6"}},[a("v-card",{staticClass:"upload-type",staticStyle:{"margin-left":"5px"},attrs:{color:"green darken-1",dark:"dark"},nativeOn:{click:function(e){t.$refs.uploadMulInput.click()}}},[a("p",{staticClass:"text-xs-center"},[a("v-icon",{attrs:{dark:"dark"}},[t._v("mdi-upload-multiple")]),t._v("相關檔案")],1),a("input",{ref:"uploadMulInput",attrs:{type:"file",multiple:!0},on:{change:function(e){t.uploadFile(e,!0)}}})])],1)],1)],1)],1)],1)],1)],1)],1)},n=[],o={render:r,staticRenderFns:n};e.a=o},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("/5sW"),n=a("NYxO"),o=a("IcnI"),s=a("cHtD"),i=a("3EgV"),l=a.n(i),c=a("cwXR");r.a.config.productionTip=!1,r.a.use(n.a),r.a.use(l.a),new r.a({el:"#app",router:s.a,store:o.a,render:function(t){return t(c.a)}})},NMl0:function(t,e,a){t.exports=a.p+"static/img/nav.913159a.png"},NUJE:function(t,e,a){"use strict";var r=a("Zrlr"),n=a.n(r),o=a("wxAW"),s=a.n(o),i=function(){function t(){n()(this,t)}return s()(t,null,[{key:"errHandler",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.error((e||"")+"\n"+t)}},{key:"getSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===t)return"0 Bytes";var a=["Bytes","KB","MB","GB","TB"],r=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,r)).toFixed(e))+" "+a[r]}},{key:"dayDiff",value:function(t){var e=new Date,a=new Date(t);return Math.abs(e-a)/864e5}},{key:"copyToClipboard",value:function(t){var e=document.createElement("div");document.body.appendChild(e),e.innerHTML=t,window.getSelection().removeAllRanges();var a=document.createRange();a.selectNode(e),window.getSelection().addRange(a);var r=document.execCommand("copy",!1);return e.remove(),r}},{key:"openLink",value:function(t,e){var a=document.createElement("a");e&&(a.download=e),a.target="_blank",a.href=t,a.click(),a.remove()}},{key:"hslToRgb",value:function(t,e,a){if(isNaN(t))return"transparent";var r=void 0,n=void 0,o=void 0;if(0===e)r=n=o=a;else{var s=function(t,e,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+6*(e-t)*a:a<.5?e:a<2/3?t+(e-t)*(2/3-a)*6:t},i=a<.5?a*(1+e):a+e-a*e,l=2*a-i;r=s(l,i,t+1/3),n=s(l,i,t),o=s(l,i,t-1/3)}return[Math.round(255*r),Math.round(255*n),Math.round(255*o)]}}]),t}();e.a=i},OavV:function(t,e,a){"use strict";var r=a("//Fk"),n=a.n(r),o=a("d7EF"),s=a.n(o),i=a("mvHQ"),l=a.n(i),c=a("Xxa5"),u=a.n(c),d=a("exGp"),p=a.n(d),v=a("Dd8w"),f=a.n(v),h=a("PsJB"),m=a("z14t"),g=a("asR1"),w=a("POz1"),k=a("zk8U"),x=a("O4Lo"),b=a.n(x),_=a("NYxO");e.a={name:"Ecourse",data:function(){return{loading:!1,isScroll:!1,isMobile:window.innerWidth<800,deferredPrompt:null,tag:"announce",username:"",password:"",avatar:"",flag:{drawer:!0,setting:!1,login:!1,about:!1},setting:{detectUrl:!0,detectDate:!0,showDivider:!1,expandFirstFolder:!0,isDownloadQuestion:!1,isDownloadTextbook:!1,showIntro:!0,showTeacherInfo:!0,scoreStyle2:!1,rankColorBlock:!0,enableNotify:!1},settingData:{"外觀":[{field:"showDivider",title:"顯示格線",description:"在每個項目之間添加分隔線"}],"通知":[{field:"enableNotify",title:"啟用通知功能",description:"自動檢查新公告、新作業，顯示在右上小鈴鐺"}],"公告":[{field:"detectDate",title:"日期偵測",description:"公告日期添加底線"},{field:"detectUrl",title:"偵測網址",description:"公告網址變為可點之連結"}],"作業":[{field:"isDownloadQuestion",title:"強制下載題目",description:"強制下載文件而非打開新視窗(Safari無效)"}],"教材":[{field:"showIntro",title:"授課大綱",description:"是否顯示授課大綱"},{field:"showTeacherInfo",title:"教師資訊",description:"是否顯示教師資訊"},{field:"expandFirstFolder",title:"自動展開首項",description:"教材第一個資料夾會自動打開"},{field:"isDownloadTextbook",title:"強制下載教材",description:"強制下載文件而非打開新視窗(Safari無效)"}],"成績":[{field:"scoreStyle2",title:"切換成績風格",description:"變一塊一塊，適合手機端"},{field:"rankColorBlock",title:"顯示排名色塊",description:"成績前依據排名顯示色塊"}]},toast:{show:!1,timeout:3e3,top:!0,right:!1,bottom:!1,left:!1,color:"success",message:"",multi:!1}}},computed:f()({},Object(_.c)({User:"getUser",HomeworkData:"getHomework",CourseList:"getCourseList"}),{loginData:function(){return{id:this.username,pass:this.password,ver:"C"}},bottomNavColor:function(){switch(this.tag){case"announce":return"blue";case"homework":return"green";case"textbook":return"orange";case"score":return"red"}}}),created:function(){var t=this;return p()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isMobile&&(t.flag.drawer=!1),localStorage.setting&&(t.setting=JSON.parse(localStorage.setting)),t.updateSetting(t.setting),window.addEventListener("beforeinstallprompt",function(e){return e.preventDefault(),t.deferredPrompt=e,!1}),!navigator.onLine){e.next=9;break}return e.next=7,t.autoLogin();case 7:e.next=11;break;case 9:t.loadLocalData(),t.showToast({message:"當前處於離線狀態",color:"info",multi:!0});case 11:case"end":return e.stop()}},e,t)}))()},watch:{setting:{handler:function(){this.updateSetting(this.setting)},deep:!0}},beforeRouteLeave:function(t,e,a){if(this.flag.setting|this.flag.login|this.flag.about)return this.flag.setting=!1,this.flag.login=!1,this.flag.about=!1,a(!1);a()},methods:f()({},Object(_.b)(["updateUser","updateCourse","updateAnnounce","updateHomework","updateTextbook","updateSetting","updateHwFile","loadLocalData","clearData"]),{onScroll:b()(function(){this.isScroll=window.scrollY>200},100),toTop:function(){window.scroll({top:0,behavior:"smooth"})},showToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.message,a=void 0===e?"":e,r=t.top,n=void 0===r||r,o=t.right,s=void 0!==o&&o,i=t.bottom,l=void 0!==i&&i,c=t.left,u=void 0!==c&&c,d=t.color,p=void 0===d?"success":d,v=t.multi,f=void 0!==v&&v,h=t.timeout,m=void 0===h?1500:h;this.toast.show=!0,this.toast.top=n,this.toast.right=s,this.toast.bottom=l,this.toast.left=u,this.toast.color=p,this.toast.multi=f,this.toast.timeout=m,this.toast.message=a},keepAlive:function(){setInterval(function(){return h.a.ping()},3e5)},autoLogin:function(){var t=this;return p()(u.a.mark(function e(){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.user){e.next=3;break}return t.flag.drawer=!1,e.abrupt("return");case 3:return t.loadLocalData(),e.next=6,h.a.getIndex();case 6:if(a=e.sent,-1!==a.indexOf("權限錯誤")){e.next=12;break}return t.updateUser({username:JSON.parse(localStorage.user).username,loggedIn:!0}),e.next=11,t.fetchData();case 11:return e.abrupt("return");case 12:return e.next=14,t.login(!0);case 14:case"end":return e.stop()}},e,t)}))()},login:function(t){var e=this;return p()(u.a.mark(function a(){var r,n;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading=!0,r=t?JSON.parse(localStorage.user):e.loginData,a.next=4,h.a.login(r);case 4:if(n=a.sent,n.stat){a.next=7;break}return a.abrupt("return",e.showToast({message:n.message,color:"error"}));case 7:return t||(localStorage.user=l()(e.loginData)),e.flag.login=!1,e.showToast({message:"登入成功",color:"success"}),e.updateUser({username:r.username,loggedIn:!0}),a.next=13,e.fetchData();case 13:case"end":return a.stop()}},a,e)}))()},logout:function(){var t=this;return p()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.logout();case 2:t.clearData(),t.flag.drawer=!1,t.$router.push({path:"/"}),t.showToast({message:"登出成功",color:"success"});case 6:case"end":return e.stop()}},e,t)}))()},fetchData:function(){var t=this;return p()(u.a.mark(function e(){var a,r,o,i,l,c,d,p,v,f;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.flag.drawer=!0,e.next=4,h.a.getIndex();case 4:return a=e.sent,r=h.a.getData(a),o=m.a.getList(a),t.updateUser(r),t.updateCourse(o.data),localStorage["avatar"+t.User.studentId]&&(t.avatar=localStorage["avatar"+t.User.studentId]),e.next=12,n.a.all([g.a.getData(),w.a.getData(),k.a.getData()]);case 12:return i=e.sent,l=s()(i,3),c=l[0],d=l[1],p=l[2],t.updateAnnounce(c.data),t.updateHomework(d.data),t.updateTextbook(p.data),e.next=22,w.a.getAllQuestion(t.HomeworkData);case 22:if(v=e.sent,t.updateHwFile(v.data),f=!(c.stat&&d.stat&&v.stat&&p.stat),f?t.showToast({message:"取得資料錯誤",color:"error"}):t.showToast({message:"資料更新成功",color:"info"}),t.loading=!1,!t.$route.params.id){e.next=30;break}return e.next=30,m.a.changeCourse(t.$route.params.id);case 30:t.keepAlive();case 31:case"end":return e.stop()}},e,t)}))()},showpPrompt:function(){this.deferredPrompt?this.deferredPrompt.prompt():this.showToast({message:'呼叫失敗，可在瀏覽器設定中找到"添加至桌面"選項',color:"error",multi:!0})},uploadAvatar:function(t){var e=this,a=t.target.files[0];if(a){var r=new FileReader;r.onloadend=function(){e.avatar=r.result,localStorage["avatar"+e.User.studentId]=r.result},r.readAsDataURL(a)}}})}},POz1:function(t,e,a){"use strict";var r=a("mvHQ"),n=a.n(r),o=a("//Fk"),s=a.n(o),i=a("BO1k"),l=a.n(i),c=a("Xxa5"),u=a.n(c),d=a("exGp"),p=a.n(d),v=a("Zrlr"),f=a.n(v),h=a("wxAW"),m=a.n(h),g=a("mw3O"),w=a.n(g),k=a("mtWM"),x=a.n(k),b=a("NUJE"),_=new TextDecoder("big5"),y=a("DEN3"),S=function(){function t(){f()(this,t)}return m()(t,null,[{key:"getData",value:function(){function t(t){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e){var a,r,n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get(y.ecourse.HOMEWORK).catch(function(t){return b.a.errHandler(t,"Get Homework Error!")});case 2:return a=t.sent,r=/var js\s=\s(.+)/.exec(a.data)[1],t.prev=4,n=JSON.parse(r.slice(0,-1)),console.log("Homework:\n",n),t.abrupt("return",{stat:!0,data:n});case 10:return t.prev=10,t.t0=t.catch(4),b.a.errHandler(t.t0,"Parse Homework Fail!"),t.abrupt("return",{stat:!1,data:[]});case 14:case"end":return t.stop()}},t,this,[[4,10]])}));return t}()},{key:"getAllQuestion",value:function(){function t(t){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e){var a,r,o,i,c,d,p,v,f,h,m,g;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.homeworkFile={},a=[],r=localStorage.homeworkFile?JSON.parse(localStorage.homeworkFile):{},t.t0=u.a.keys(e);case 4:if((t.t1=t.t0()).done){t.next=39;break}o=t.t1.value,i=e[o].list,this.homeworkFile[o]={},c=!0,d=!1,p=void 0,t.prev=11,v=l()(i);case 13:if(c=(f=v.next()).done){t.next=23;break}if(h=f.value,h.id){t.next=17;break}return t.abrupt("continue",20);case 17:m=h.id,g=!!r[o]&&!!r[o][m]&&Date.now()<r[o][m].timeStamp+1728e5,g?this.homeworkFile[o][m]=r[o][m]:a.push(this.getQuestion(o,m));case 20:c=!0,t.next=13;break;case 23:t.next=29;break;case 25:t.prev=25,t.t2=t.catch(11),d=!0,p=t.t2;case 29:t.prev=29,t.prev=30,!c&&v.return&&v.return();case 32:if(t.prev=32,!d){t.next=35;break}throw p;case 35:return t.finish(32);case 36:return t.finish(29);case 37:t.next=4;break;case 39:return t.next=41,s.a.all(a);case 41:return console.log("HwFile:\n",this.homeworkFile),localStorage.homeworkFile=n()(this.homeworkFile),t.abrupt("return",{stat:!0,data:this.homeworkFile});case 44:case"end":return t.stop()}},t,this,[[11,25,29,37],[30,,32,36]])}));return t}()},{key:"getQuestion",value:function(){function t(t,a){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,a){var r,n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get(y.ecourse.UNDER_DIR_FILE,{params:{action:"Question",courseid:e,workid:a}}).catch(function(t){return b.a.errHandler(t,"Get Question Error!")});case 2:r=t.sent,n={type:null,timeStamp:Date.now()},r.data.size&&!r.data.status&&(n.type=r.data.type.slice(1)),this.homeworkFile[e][a]=n;case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"getAnswer",value:function(){function t(t,a){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,a){var r,n,o,s,i,c,d,p;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get(y.ecourse.UNDER_DIR_FILE,{params:{action:"seemywork",courseid:e,workid:a}}).catch(function(t){return b.a.errHandler(t,"Get Answer Error!")});case 2:if(r=t.sent,n=[],!Array.isArray(r.data)){t.next=27;break}for(r.data.pop(),o=!0,s=!1,i=void 0,t.prev=9,c=l()(r.data);!(o=(d=c.next()).done);o=!0)p=d.value,n.push({id:1e3*Math.random(),name:p[0],size:b.a.getSize(p[1]),timeStamp:p[2]});t.next=17;break;case 13:t.prev=13,t.t0=t.catch(9),s=!0,i=t.t0;case 17:t.prev=17,t.prev=18,!o&&c.return&&c.return();case 20:if(t.prev=20,!s){t.next=23;break}throw i;case 23:return t.finish(20);case 24:return t.finish(17);case 25:t.next=28;break;case 27:n[0]={name:"homework.html",size:"? bytes",content:r.data.work,timeStamp:r.data.mtime};case 28:return console.log(n),t.abrupt("return",n);case 30:case"end":return t.stop()}},t,this,[[9,13,17,25],[18,,20,24]])}));return t}()},{key:"removeAnswer",value:function(){function t(t,a,r){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,a,r){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get(y.ecourse.SHOW_WORK,{params:{action:"del",work_id:a,filename:r}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"uploadText",value:function(){function t(t,a){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,a){var r,n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=w.a.stringify({ans:e,work_id:a,action:"handinwork"}),t.next=3,x.a.post(y.ecourse.SHOW_WORK,r,{responseType:"arraybuffer"});case 3:return n=t.sent,t.abrupt("return",-1!==_.decode(n.data).indexOf("成功"));case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"uploadFile",value:function(){function t(t,a,r,n){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,a,r,n){var o,s,i,l;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=new FormData,o.append("work_id",n),a)for(o.append("action","uploadotherwork"),s=0;s<e.length;s++)i=e[s],o.append("uploadfile"+s,i);else o.append("action","uploadstuwork"),o.append("uploadfile1",e[0],e[0].name);return t.next=5,x.a.post(y.ecourse.SHOW_WORK,o,{responseType:"arraybuffer"});case 5:return l=t.sent,t.abrupt("return",-1!==_.decode(l.data).indexOf("成功"));case 7:case"end":return t.stop()}},t,this)}));return t}()}]),t}();e.a=S},PsJB:function(t,e,a){"use strict";var r=a("Gu7T"),n=a.n(r),o=a("Xxa5"),s=a.n(o),i=a("exGp"),l=a.n(i),c=a("Zrlr"),u=a.n(c),d=a("wxAW"),p=a.n(d),v=a("mw3O"),f=a.n(v),h=a("mtWM"),m=a.n(h),g=a("NUJE"),w=a("DEN3"),k=new TextDecoder("big5"),x=function(){function t(){u()(this,t)}return p()(t,null,[{key:"getIndex",value:function(){function t(){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(){var e,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get(w.ecourse.INDEX,{responseType:"arraybuffer"}).catch(function(t){return g.a.errHandler(t,"Get MainPage Error!")});case 2:return e=t.sent,a=k.decode(e.data),t.abrupt("return",a);case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"getData",value:function(t){var e={name:"",classes:"",studentId:"",department:""};try{var a=/：([\u4e00-\u9fa5 a-zA-Z0-9\s()]+).{15}：([0-9]+).{15}：([\u4e00-\u9fa5\/a-zA-Z0-9]+).{15}：([a-zA-Z0-9]+)/,r=[].concat(n()(a.exec(t)));return e.name=r[1],e.classes=r[4],e.studentId=r[2],e.department=r[3],e}catch(t){return g.a.errHandler(t,"Parse User Fail!"),e}}},{key:"login",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(e){var a,r,n=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={},r=!1,e=f.a.stringify(e),t.next=5,m.a.post(w.ecourse.LOGIN,e).then(function(t){r=!0}).catch(function(t){a.stat=n.crossHandler(t)});case 5:return t.next=7,m.a.post(w.ecourse.MOBILE,e).then(function(t){r=!0}).catch(function(t){a.stat=n.crossHandler(t)});case 7:return r&&(a.stat=!1,a.message="登入失敗: 帳號密碼錯誤"),t.abrupt("return",a);case 9:case"end":return t.stop()}},t,this)}));return t}()},{key:"logout",value:function(){function t(){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get(w.ecourse.LOGOUT).catch(function(t){return g.a.errHandler(t,"Logout Error!")});case 2:case"end":return t.stop()}},t,this)}));return t}()},{key:"ping",value:function(){function t(){return e.apply(this,arguments)}var e=l()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get(w.ecourse.PING).catch(function(t){return g.a.errHandler(t,"Ping Error!")});case 2:case"end":return t.stop()}},t,this)}));return t}()},{key:"crossHandler",value:function(t){return"Network Error"===t.message||(g.a.errHandler(t,"Login Error!"),!1)}}]),t}();e.a=x},QQw2:function(t,e,a){"use strict";var r=a("BO1k"),n=a.n(r),o=a("//Fk"),s=a.n(o),i=a("d7EF"),l=a.n(i),c=a("Xxa5"),u=a.n(c),d=a("exGp"),p=a.n(d),v=a("Dd8w"),f=a.n(v),h=a("NUJE"),m=a("cHwD"),g=a("z14t"),w=a("POz1"),k=a("NYxO"),x=a("DEN3");e.a={props:["tab"],data:function(){return{tag:"announce",isScroll:!1,isMobile:window.innerWidth<800,search:{flag:!1,title:!0,keyword:""},announce:{flag:!1,text:"",title:"",contnet:"",toastShow:!1,toastColor:"success",message:""},homework:{flag:!1,title:"",contnet:""},scoreUpdate:{},uploadHW:{workID:0,content:"",flag:!1,list:{},toastShow:!1,toastColor:"success",message:""},homeworkAns:{},toast:{show:!1,top:!0,right:!1,bottom:!1,left:!1,color:"success",message:""},fileType:{pdf:"mdi-file-pdf-box",ppt:"mdi-file-powerpoint-box",pptx:"mdi-file-powerpoint-box",doc:"mdi-file-word-box",docx:"mdi-file-word-box",xls:"mdi-file-excel-box",xlsx:"mdi-file-excel-box",txt:"mdi-file-document-box",xml:"mdi-file-xml",jpg:"mdi-image",png:"mdi-image",jpeg:"mdi-image",gif:"mdi-image-multiple",ogg:"mdi-music-box",mp3:"mdi-music-box",mp4:"mdi-video",mpeg:"mdi-video",zip:"mdi-zip-box",rar:"mdi-zip-box",js:"mdi-language-javascript",php:"mdi-language-php",py:"mdi-language-python-text"},loading:!1}},created:function(){},computed:f()({},Object(k.c)({User:"getUser",CourseList:"getCourseList",Announce:"getAnnounce",Homework:"getHomework",Textbook:"getTextbook",Score:"getScore",Roll:"getRoll",Setting:"getSetting",HomeworkFile:"getHomeworkFile",AnnouceNotify:"getAnnNotify"}),{courseID:function(){return this.$route.params.id},AnnounceList:function(){return this.Announce[this.$route.params.id]||{name:"QAO找不到",list:{}}},HomeworkList:function(){return this.Homework[this.$route.params.id]||{name:"QAO找不到",list:{}}},TextbookList:function(){return this.Textbook[this.$route.params.id]||{name:"QAO找不到",list:{}}},ScoreData:function(){return this.Score[this.$route.params.id]||{"目前沒有成績":null}},RollData:function(){return this.Roll[this.$route.params.id]||[]},HwFile:function(){return this.HomeworkFile[this.$route.params.id]||localStorage.homeworkFile?JSON.parse(localStorage.homeworkFile)[this.$route.params.id]:{}},HwAns:function(){return this.homeworkAns[this.$route.params.id]||{}},AnnNotify:function(){return this.AnnouceNotify[this.$route.params.id]||{}}}),watch:{tab:function(t){var e=this;return p()(u.a.mark(function a(){return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.tag="middle",setTimeout(function(){e.tag=t},350),"score"!==t){a.next=5;break}return a.next=5,e.showScore();case 5:case"end":return a.stop()}},a,e)}))()},courseID:function(t){var e=this;return p()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"score"===e.tag&&e.showScore();case 1:case"end":return t.stop()}},t,e)}))()}},beforeRouteLeave:function(t,e,a){if(this.announce.flag|this.homework.flag|this.uploadHW.flag)return this.announce.flag=!1,this.homework.flag=!1,this.uploadHW.flag=!1,a(!1);a()},beforeRouteUpdate:function(t,e,a){if(this.announce.flag|this.homework.flag|this.uploadHW.flag)return this.announce.flag=!1,this.homework.flag=!1,this.uploadHW.flag=!1,a(!1);a()},methods:f()({},Object(k.b)(["updateScore","updateRoll","updateAnnNotify"]),{toggleSearch:function(){var t=this;this.search.flag?(this.search.flag=!1,setTimeout(function(){t.search.title=!0},200)):(this.search.flag=!0,this.search.title=!1,setTimeout(function(){t.$refs.search.focus()},300))},showToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.message,a=void 0===e?"":e,r=t.top,n=void 0===r||r,o=t.right,s=void 0!==o&&o,i=t.bottom,l=void 0!==i&&i,c=t.color,u=void 0===c?"success":c;this.toast.show=!0,this.toast.top=n,this.toast.right=s,this.toast.bottom=l,this.toast.color=u,this.toast.message=a},showAnnounce:function(t){if(this.AnnounceList.list[t].content){var e=this.AnnounceList.list[t].content.replace(/\r\n/g,"<br>");if(this.announce.text=e,this.Setting.detectUrl){var a=/(((?:http(s)?:\/\/)[\w.-]+(?:\.[\w.-]+)+)[\w\-._~:\/?#[\]@!$&'*+,;=.]+)/g;e=e.replace(a,' <a href="$1" target="_blank">$2...</a> ')}if(this.Setting.detectDate){var r=/(([\d]{1,4}\/)?[\d]{1,4}\/[\d]{1,4})(\([\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u65e5\u661f\u671f]{1,3}\))?/g;e=e.replace(r,'<u class="date-padding">$1</u>$3')}this.AnnNotify[this.AnnounceList.list[t].id]&&this.updateAnnNotify([this.courseID,this.AnnounceList.list[t].id]),this.announce.title=this.AnnounceList.list[t].title,this.announce.content=e,this.announce.flag=!0}},showHomework:function(t){this.homework.id=this.HomeworkList.list[t].id,this.homework.title=this.HomeworkList.list[t].title,this.homework.content=this.HomeworkList.list[t].content,this.homework.flag=!0},copyAnnounce:function(){h.a.copyToClipboard(this.announce.text)&&(this.announce.toastShow=!0,this.announce.message="已將內容複製到剪貼簿。")},downloadTextbook:function(t){var e=""+x.ecourse.HOST+t.slice(8);h.a.openLink(e,this.Setting.isDownloadTextbook)},downloadIntro:function(){var t=this;return p()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.changeCourse(t.courseID);case 2:h.a.openLink(x.ecourse.INTRO,!1);case 3:case"end":return e.stop()}},e,t)}))()},downloadTeaIndo:function(){var t=this;return p()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.changeCourse(t.courseID);case 2:h.a.openLink(x.ecourse.TEACHER_INFO,!1);case 3:case"end":return e.stop()}},e,t)}))()},downloadQues:function(t,e){var a=x.ecourse.HOST+"/"+this.courseID+"/homework/"+t+"/teacher/Question."+e;h.a.openLink(a,this.Setting.isDownloadQuestion)},downloadAns:function(t){var e=this;return p()(u.a.mark(function a(){var r;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.changeCourse(e.courseID);case 2:r=x.ecourse.SHOW_WORK+"?action=downloadFile&work_id="+e.uploadHW.workID+"&filename="+t,h.a.openLink(r,!1);case 4:case"end":return a.stop()}},a,e)}))()},showScore:function(){var t=this;return p()(u.a.mark(function e(){var a,r,n,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.tag="score",!t.scoreUpdate[t.courseID]){e.next=3;break}return e.abrupt("return");case 3:return t.scoreUpdate[t.courseID]=!0,e.next=6,g.a.changeCourse(t.courseID);case 6:return e.next=8,s.a.all([m.a.getScore(),m.a.getRoll()]);case 8:a=e.sent,r=l()(a,2),n=r[0],o=r[1],t.updateScore([t.courseID,n]),t.updateRoll([t.courseID,o]);case 14:case"end":return e.stop()}},e,t)}))()},showUpload:function(t){var e=this;return p()(u.a.mark(function a(){var r;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.uploadHW.workID=t,e.uploadHW.flag=!0,e.homeworkAns[e.courseID]||(e.homeworkAns[e.courseID]={}),a.next=5,w.a.getAnswer(e.courseID,t);case 5:r=a.sent,e.uploadHW.list=r.map(function(t){return t.new=!1,t});case 7:case"end":return a.stop()}},a,e)}))()},showUploadToast:function(t){this.uploadHW.toastShow=!0,this.uploadHW.toastColor="success",this.uploadHW.message=t},uploadText:function(){var t=this;return p()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.uploadText(t.uploadHW.content,t.uploadHW.workID);case 2:return e.next=4,w.a.getAnswer(t.courseID,t.uploadHW.workID);case 4:t.uploadHW.list=e.sent,t.showUploadToast("上傳成功");case 6:case"end":return e.stop()}},e,t)}))()},uploadFile:function(t,e){var a=this;return p()(u.a.mark(function r(){var o,s,i,l,c,d,p,v;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=t.target.files||t.dataTransfer.files,o.length){r.next=3;break}return r.abrupt("return");case 3:for(s=!0,i=!1,l=void 0,r.prev=6,c=n()(o);!(s=(d=c.next()).done);s=!0)p=d.value,a.uploadHW.list.push({id:1e3*Math.random(),name:p.name,size:h.a.getSize(p.size),new:!0});r.next=14;break;case 10:r.prev=10,r.t0=r.catch(6),i=!0,l=r.t0;case 14:r.prev=14,r.prev=15,!s&&c.return&&c.return();case 17:if(r.prev=17,!i){r.next=20;break}throw l;case 20:return r.finish(17);case 21:return r.finish(14);case 22:return r.next=24,w.a.uploadFile(o,e,a.courseID,a.uploadHW.workID);case 24:if(v=r.sent){r.next=28;break}return a.uploadHW.list[a.uploadHW.list.length-1]=null,r.abrupt("return",a.showUploadToast("上傳失敗"));case 28:return r.next=30,w.a.getAnswer(a.courseID,a.uploadHW.workID);case 30:a.uploadHW.list=r.sent,a.uploadHW.list[a.uploadHW.list.length-1].success=!0,a.showUploadToast("上傳成功");case 33:case"end":return r.stop()}},r,a,[[6,10,14,22],[15,,17,21]])}))()},removeAnswer:function(t){var e=this;return p()(u.a.mark(function a(){return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(confirm("確定要刪除這個檔案?")){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,w.a.removeAnswer(e.courseID,e.uploadHW.workID,t);case 4:return a.next=6,w.a.getAnswer(e.courseID,e.uploadHW.workID);case 6:e.uploadHW.list=a.sent,e.showUploadToast("刪除成功");case 8:case"end":return a.stop()}},a,e)}))()}})}},QXmj:function(t,e,a){"use strict";var r=a("QQw2"),n=a("Lg+u"),o=a("VU/8"),s=o(r.a,n.a,!1,null,null,null);e.a=s.exports},SlG2:function(t,e,a){"use strict";var r=a("YSiv"),n=a("VU/8"),o=n(null,r.a,!1,null,null,null);e.a=o.exports},UjVw:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"getUser",function(){return r}),a.d(e,"getCourseList",function(){return n}),a.d(e,"getAnnounce",function(){return o}),a.d(e,"getHomework",function(){return s}),a.d(e,"getTextbook",function(){return i}),a.d(e,"getScore",function(){return l}),a.d(e,"getRoll",function(){return c}),a.d(e,"getHomeworkFile",function(){return u}),a.d(e,"getSetting",function(){return d}),a.d(e,"getAnnNotify",function(){return p}),a.d(e,"getHwNotify",function(){return v});var r=function(t){return t.userData},n=function(t){return t.courseList},o=function(t){return t.announceData},s=function(t){return t.homeworkData},i=function(t){return t.textbookData},l=function(t){return t.scoreData},c=function(t){return t.rollData},u=function(t){return t.homeworkFile},d=function(t){return t.settingData},p=function(t){return t.announceNotify},v=function(t){return t.homeworkNotify}},YSiv:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[t._v("走開走開٩(ŏ﹏ŏ、)۶不要跑來這裡(｡ŏ_ŏ)")])])}],o={render:r,staticRenderFns:n};e.a=o},asR1:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),o=a("exGp"),s=a.n(o),i=a("Zrlr"),l=a.n(i),c=a("wxAW"),u=a.n(c),d=a("mtWM"),p=a.n(d),v=a("NUJE"),f=a("DEN3"),h=function(){function t(){l()(this,t)}return u()(t,null,[{key:"getData",value:function(){function t(t){return e.apply(this,arguments)}var e=s()(n.a.mark(function t(e){var a,r,o;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get(f.ecourse.ANNOUNCE).catch(function(t){return v.a.errHandler(t,"Get Announce Error!")});case 2:return a=t.sent,r=/var js\s=\s(.+)/.exec(a.data)[1],t.prev=4,o=JSON.parse(r.slice(0,-1)),console.log("Announce:\n",o),t.abrupt("return",{stat:!0,data:o});case 10:return t.prev=10,t.t0=t.catch(4),v.a.errHandler(t.t0,"Parse Announce Fail!"),t.abrupt("return",{stat:!1,data:[]});case 14:case"end":return t.stop()}},t,this,[[4,10]])}));return t}()}]),t}();e.a=h},cHtD:function(t,e,a){"use strict";var r=a("/5sW"),n=a("/ocq"),o=a("sDrE"),s=a("QXmj"),i=a("SlG2");r.a.use(n.a),e.a=new n.a({mode:"history",linkActiveClass:"active",routes:[{path:"/",name:"Ecourse",component:o.a,children:[{path:"/course",name:"Course",component:i.a},{path:"/course/:id",component:s.a}]},{path:"/*",redirect:"/"}]})},cHwD:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),o=a("exGp"),s=a.n(o),i=a("Zrlr"),l=a.n(i),c=a("wxAW"),u=a.n(c),d=a("mtWM"),p=a.n(d),v=a("NUJE"),f=a("DEN3"),h=new TextDecoder("big5"),m=function(){function t(){l()(this,t)}return u()(t,null,[{key:"getScore",value:function(){function t(){return e.apply(this,arguments)}var e=s()(n.a.mark(function t(){var e,a,r,o,s,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get(f.ecourse.COURSE_SCORE,{responseType:"arraybuffer"}).catch(function(t){return v.a.errHandler(t)});case 2:return e=t.sent,a=new DOMParser,r=a.parseFromString(h.decode(e.data),"text/html"),o=r.querySelectorAll('tr[bgcolor="#4d6eb2"], tr[bgcolor="#E6FFFC"], tr[bgcolor="#F0FFEE"], tr[bgcolor="#B0BFC3"]'),s={},i="",o.forEach(function(t){var e=t.childNodes;switch(t.getAttribute("bgcolor")){case"#4d6eb2":i=e[0].textContent.replace("(名稱)",""),s[i]=[];break;case"#B0BFC3":void 0!==s["總成績"]?s["總成績"][0].score=e[1].textContent+"分":s["總成績"]=[{name:"總成績",rank:e[1].textContent}];break;default:var a=e[2].textContent?e[2].textContent+"分":"-",r=e[3].textContent.replace("你沒有成績","-"),n=r.split("/"),o=1-n[0]/n[1],l=v.a.hslToRgb(1.2*o/3.6,1,.5);s[i].push({name:e[0].textContent,percentage:e[1].textContent,score:a,rank:r,color:"rgb("+l[0]+", "+l[1]+", "+l[2]+")"})}}),t.abrupt("return",s);case 10:case"end":return t.stop()}},t,this)}));return t}()},{key:"getRoll",value:function(){function t(){return e.apply(this,arguments)}var e=s()(n.a.mark(function t(){var e,a,r,o,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get(f.ecourse.ROLL,{responseType:"arraybuffer"}).catch(function(t){return v.a.errHandler(t)});case 2:e=t.sent,a=h.decode(e.data),r=/<TD\scolspan="2">([0-9\/出缺席]*?)<\/TD>\s*?<TD\scolspan="2">([0-9\/出缺席]*?)<\/TD>/g,o=[],s=void 0;do{(s=r.exec(a))&&o.push([s[1],s[2]])}while(s);return t.abrupt("return",o);case 9:case"end":return t.stop()}},t,this)}));return t}()}]),t}();e.a=m},cwXR:function(t,e,a){"use strict";function r(t){a("iit1")}var n=a("hvH+"),o=a("VU/8"),s=r,i=o(null,n.a,!1,s,null,null);e.a=i.exports},fHpd:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{id:"ccu"}},[r("v-navigation-drawer",{staticClass:"gray-bg",attrs:{persistent:"persistent","enable-resize-watcher":"enable-resize-watcher",app:"app"},model:{value:t.flag.drawer,callback:function(e){t.$set(t.flag,"drawer",e)},expression:"flag.drawer"}},[r("v-toolbar",{staticClass:"personal-info pa-3",attrs:{flat:"flat"}},[r("v-list",{staticClass:"pa-0",attrs:{"two-line":"two-line"}},[t.User.loggedIn?r("v-list-tile",{staticClass:"px-4",attrs:{avatar:"avatar",ripple:"ripple"}},[r("v-list-tile-avatar",{attrs:{size:"58"}},[r("div",{staticClass:"avatar-overlay",on:{click:function(e){t.$refs.avatar.click()}}},[r("v-icon",{attrs:{dark:"dark"}},[t._v("mdi-cloud-upload")]),r("input",{ref:"avatar",attrs:{type:"file"},on:{change:t.uploadAvatar}})],1),t.avatar.length?r("img",{staticClass:"avatar-wrapper elevation-1",staticStyle:{"object-fit":"cover"},attrs:{src:t.avatar}}):r("img",{staticClass:"avatar-wrapper elevation-1",attrs:{src:a("NMl0")}})]),r("v-list-tile-content",{staticClass:"ml-3"},[r("v-list-tile-title",[t._v(t._s(t.User.name))]),r("v-list-tile-sub-title",{staticClass:"blue-grey--text lighten-1--text"},[r("v-icon",{staticClass:"blue-grey--text lighten-1--text body-1"},[t._v("mdi-map-marker")]),r("span",[t._v(t._s(t.User.department)+", "+t._s(t.User.classes))])],1)],1)],1):r("v-list-tile",{staticClass:"px-4"},[r("v-list-tile-content",[r("v-btn",{attrs:{color:"primary","aria-label":"login",loading:t.loading,disabled:t.loading,dark:"dark"},on:{click:function(e){t.flag.login=!0}}},[t._v("登入")])],1)],1)],1)],1),r("v-list",{staticClass:"pt-0 striped course-list",attrs:{dense:"dense","two-line":t.isMobile,"three-line":!t.isMobile}},[r("v-list-tile",[r("v-list-tile-action"),r("v-list-tile-content",[r("v-list-tile-title",{staticClass:"course-head"},[r("span",[t._v("課程列表")])])],1)],1),t._l(t.CourseList,function(e,a){return r("v-list-tile",{key:e.id,attrs:{to:{path:"/course/"+e.id},ripple:"ripple"}},[r("v-list-tile-action"),r("v-list-tile-content",[r("v-list-tile-title",{staticClass:"course-list-name"},[r("span",[t._v(t._s(e.name))])]),r("v-list-tile-sub-title",[r("span",[t._v(t._s(e.professor))])])],1)],1)})],2)],1),r("v-toolbar",{staticClass:"color-nav",attrs:{dark:"dark",color:"primary",fixed:"fixed",app:"app"}},[r("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.flag.drawer=!t.flag.drawer}}},[r("v-icon",[t._v("mdi-menu")])],1),r("router-link",{staticClass:"cursor-p",attrs:{tag:"div",to:{path:"/"}}},[r("v-toolbar-title",{staticClass:"white--text ecourse-logo no-select"},[t._v("eCourse+")])],1),r("v-spacer"),r("v-menu",[r("v-btn",{staticClass:"setting-btn",attrs:{slot:"activator",icon:"icon","aria-label":"setting"},slot:"activator"},[r("v-icon",[t._v("mdi-settings")])],1),r("v-list",[r("v-list-tile",{staticClass:"list__tile--link"},[r("v-list-tile-title",{on:{click:function(e){t.flag.setting=!0}}},[t._v("  設定")])],1),r("v-list-tile",{staticClass:"list__tile--link"},[r("v-list-tile-title",{on:{click:function(e){t.flag.about=!0}}},[t._v("  關於本站")])],1),r("v-list-tile",{staticClass:"list__tile--link"},[r("v-list-tile-title",{on:{click:t.fetchData}},[t._v("  強制刷新  ")])],1),r("v-divider"),t.User.loggedIn?t._e():r("v-list-tile",{staticClass:"list__tile--link"},[r("v-list-tile-title",{on:{click:function(e){t.flag.login=!0}}},[t._v(" "),r("v-icon",[t._v("mdi-logout-variant")]),t._v(" 登入")],1)],1),t.User.loggedIn?r("v-list-tile",{staticClass:"list__tile--link"},[r("v-list-tile-title",{on:{click:t.logout}},[t._v(" "),r("v-icon",[t._v("mdi-logout-variant")]),t._v(" 登出")],1)],1):t._e()],1)],1)],1),r("v-snackbar",{staticClass:"short",attrs:{timeout:t.toast.timeout,top:t.toast.top,left:t.toast.left,right:t.toast.right,bottom:t.toast.bottom,color:t.toast.color,"multi-line":t.toast.multi},model:{value:t.toast.show,callback:function(e){t.$set(t.toast,"show",e)},expression:"toast.show"}},[t._v(t._s(t.toast.message))]),r("v-content",{class:{"mb-5":t.$route.params.id,"mb-0":!t.$route.params.id}},[r("transition",{attrs:{name:"slide",mode:"out-in"}},[t.$route.params.id?t._e():r("v-jumbotron",{staticClass:"main-card",attrs:{gradient:"to right top, #1867c0, #19e5f4",height:"auto",dark:"dark"}},[r("v-container",{attrs:{"fill-height":"fill-height","align-center":"align-center"}},[r("v-layout",{staticClass:"text-xs-center",attrs:{"align-center":"align-center",wrap:"wrap"}},[r("v-flex",{staticClass:"mt-3",attrs:{xs12:"xs12"}},[r("v-avatar",{staticClass:"grey lighten-4 mt-5",attrs:{size:t.isMobile?174:194}},[r("img",{attrs:{src:a("2zNh"),alt:"Logo"}}),r("div",{staticClass:"img-circle",class:{mobile:t.isMobile}})]),r("h1",{staticClass:"display-3 head-name no-select"},[t._v("eCourse+")]),r("div",{staticClass:"headline mb-3 mx-3"},[t._v("輕鬆瀏覽公告、作業、教材與成績")]),r("div",{staticClass:"mb-5"},[r("v-tooltip",{attrs:{top:"top"}},[r("v-btn",{staticClass:"mx-3",attrs:{slot:"activator",icon:"icon",large:"large",color:"white",href:"https://google.com",target:"_blank",rel:"noopener"},slot:"activator"},[r("v-icon",{attrs:{color:"primary"}},[t._v("mdi-facebook")])],1),r("span",[t._v("Facebook")])],1),r("v-tooltip",{attrs:{top:"top"}},[r("v-btn",{staticClass:"mx-3",attrs:{slot:"activator",icon:"icon",large:"large",color:"white"},slot:"activator"},[r("v-icon",{attrs:{color:"primary"}},[t._v("mdi-twitter")])],1),r("span",[t._v("別按了 沒有twitter")])],1),r("v-tooltip",{attrs:{top:"top"}},[r("v-btn",{staticClass:"mx-3",attrs:{slot:"activator",icon:"icon",large:"large",color:"white",href:"https://github.com/pionxzh/eCourse-Plus-Plus",target:"_blank",rel:"noopener"},slot:"activator"},[r("v-icon",{attrs:{color:"primary"}},[t._v("mdi-github-circle")])],1),r("span",[t._v("GitHub")])],1)],1),t.User.loggedIn?t._e():r("v-btn",{staticClass:"mb-2 white--text",staticStyle:{"background-color":"#e91e63"},attrs:{loading:t.loading,disabled:t.loading,large:"large"},on:{click:function(e){t.flag.login=!0}}},[r("strong",[t._v("開始使用")])]),t.User.loggedIn?r("v-btn",{staticClass:"mb-2 primary--text",attrs:{color:"white",large:"large"},on:{click:t.showpPrompt}},[r("v-icon",[t._v("mdi-apps")]),r("strong",[t._v(" 添加到桌面")])],1):t._e(),r("div",[t._v("Version 1.0.2")])],1)],1)],1)],1),t.$route.params.id?r("v-container",{attrs:{fluid:"fluid"}},[r("transition",{attrs:{name:"slide",mode:"out-in"}},[r("keep-alive",[r("router-view",{attrs:{tab:t.tag},on:{"update:tab":function(e){t.tag=e}}})],1)],1)],1):t._e()],1)],1),t.$route.params.id?r("v-bottom-nav",{staticClass:"hidden-md-and-up",attrs:{app:"app",fixed:"fixed",shift:"shift",active:t.tag,color:t.bottomNavColor},on:{"update:active":function(e){t.tag=e}}},[r("v-btn",{attrs:{flat:"flat",dark:"dark",value:"announce"}},[r("span",[t._v("公告")]),r("v-icon",[t._v("mdi-calendar-text")])],1),r("v-btn",{attrs:{flat:"flat",dark:"dark",value:"homework"}},[r("span",[t._v("作業")]),r("v-icon",[t._v("mdi-clipboard-text")])],1),r("v-btn",{attrs:{flat:"flat",dark:"dark",value:"textbook"}},[r("span",[t._v("教材")]),r("v-icon",[t._v("mdi-book-open-variant")])],1),r("v-btn",{attrs:{flat:"flat",dark:"dark",value:"score"}},[r("span",[t._v("成績")]),r("v-icon",[t._v("mdi-chart-line")])],1)],1):t._e(),r("v-footer",{staticClass:"hidden-sm-and-down",attrs:{absolute:"absolute"}},[r("v-spacer"),r("span",[t._v("© 2018 Developed by Pionxzh")]),r("v-spacer")],1),r("v-fab-transition",[r("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isScroll,expression:"isScroll"},{name:"scroll",rawName:"v-scroll",value:t.onScroll,expression:"onScroll"}],staticClass:"hidden-sm-and-down",staticStyle:{margin:"6px 8px"},attrs:{fixed:"fixed","aria-label":"fab",bottom:"bottom",right:"right",dark:"dark",fab:"fab",color:"red"},on:{click:t.toTop}},[r("v-icon",[t._v("mdi-chevron-up")])],1)],1),r("v-fab-transition",{staticClass:"hidden-sm-and-down"},[r("v-speed-dial",{directives:[{name:"show",rawName:"v-show",value:!t.isScroll,expression:"!isScroll"}],staticClass:"hidden-sm-and-down",staticStyle:{"z-index":"10"},attrs:{fixed:"fixed",bottom:"bottom",right:"right","open-on-hover":!t.isMobile,transition:"slide-x-transition"}},[r("v-btn",{attrs:{slot:"activator","aria-label":"close",color:"red",dark:"dark",fab:"fab"},slot:"activator"},[r("v-icon",[t._v("mdi-rocket")])],1),r("v-tooltip",{attrs:{left:"left"}},[r("v-btn",{attrs:{slot:"activator",fab:"fab",dark:"dark","aria-label":"setting",color:"green"},on:{click:function(e){t.flag.setting=!0}},slot:"activator"},[r("v-icon",[t._v("mdi-settings")])],1),r("span",[t._v("設定")])],1),r("v-tooltip",{attrs:{left:"left"}},[r("v-btn",{attrs:{slot:"activator",fab:"fab",dark:"dark","aria-label":"score",color:"pink"},on:{click:function(t){}},slot:"activator"},[r("v-icon",[t._v("mdi-chart-line")])],1),r("span",[t._v("成績")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"450",scroll:"scroll"},model:{value:t.flag.setting,callback:function(e){t.$set(t.flag,"setting",e)},expression:"flag.setting"}},[r("v-toolbar",{staticClass:"blue",attrs:{dark:"dark"}},[r("v-icon",[t._v("mdi-wrench")]),r("v-toolbar-title",[t._v("設定")]),r("v-spacer"),r("v-btn",{staticClass:"mr-3",attrs:{icon:"icon"},on:{click:function(e){t.flag.setting=!1}}},[r("v-icon",[t._v("mdi-close")])],1)],1),r("v-list",{staticClass:"tile-hover",attrs:{"two-line":"two-line",subheader:"subheader"}},[t._l(t.settingData,function(e,a){return[r("v-subheader",{key:a,staticClass:"no-select"},[t._v(t._s(a))]),t._l(e,function(e){return r("v-list-tile",{key:e.title,attrs:{ripple:"ripple",avatar:"avatar"},on:{click:function(t){}}},[r("v-list-tile-action",[r("v-switch",{attrs:{color:"blue darken-1"},model:{value:t.setting[e.field],callback:function(a){t.$set(t.setting,e.field,a)},expression:"setting[subItem.field]"}})],1),r("v-list-tile-content",{on:{click:function(a){t.setting[e.field]=!t.setting[e.field]}}},[r("v-list-tile-title",[t._v(t._s(e.title))]),r("v-list-tile-sub-title",[t._v(t._s(e.description))])],1)],1)}),r("v-divider")]})],2)],1),r("v-dialog",{attrs:{width:"300px"},model:{value:t.flag.login,callback:function(e){t.$set(t.flag,"login",e)},expression:"flag.login"}},[r("v-card",{staticClass:"dialog-box"},[r("v-card-title",{staticClass:"headline"},[r("div",{staticClass:"text-xs-center"},[t._v("登入帳號")])]),r("v-card-text",{staticStyle:{"font-size":"15px"}},[t._v("※請輸入"),r("b",[t._v("單一入口帳號密碼")]),r("v-container",{attrs:{"grid-list-md":"grid-list-md"}},[r("v-layout",{attrs:{wrap:"wrap"}},[r("v-flex",{attrs:{xs12:"xs12"}},[r("v-text-field",{attrs:{label:"帳號",required:"required"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),r("v-flex",{attrs:{xs12:"xs12"}},[r("v-text-field",{attrs:{label:"密碼",required:"required",type:"password"},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.login(!1)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1","aria-label":"login",loading:t.loading,large:"large",dark:"dark"},on:{click:function(e){t.login(!1)}}},[r("v-icon",[t._v("mdi-flash")]),t._v("登入")],1),r("v-spacer")],1)],1)],1)],1)},n=[],o={render:r,staticRenderFns:n};e.a=o},"hvH+":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)},n=[],o={render:r,staticRenderFns:n};e.a=o},iit1:function(t,e){},mUbh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"updateUser",function(){return s}),a.d(e,"updateCourse",function(){return i}),a.d(e,"updateAnnounce",function(){return l}),a.d(e,"updateHomework",function(){return c}),a.d(e,"updateTextbook",function(){return u}),a.d(e,"updateSetting",function(){return d}),a.d(e,"updateScore",function(){return p}),a.d(e,"updateRoll",function(){return v}),a.d(e,"updateHwFile",function(){return f}),a.d(e,"updateAnnNotify",function(){return h}),a.d(e,"loadLocalData",function(){return m}),a.d(e,"clearData",function(){return g});var r=a("d7EF"),n=a.n(r),o=a("BcEq"),s=function(t,e){(0,t.commit)(o.l,e)},i=function(t,e){(0,t.commit)(o.d,e)},l=function(t,e){(0,t.commit)(o.a,e)},c=function(t,e){(0,t.commit)(o.e,e)},u=function(t,e){(0,t.commit)(o.k,e)},d=function(t,e){(0,t.commit)(o.j,e)},p=function(t,e){(0,t.commit)(o.i,e)},v=function(t,e){(0,t.commit)(o.h,e)},f=function(t,e){(0,t.commit)(o.f,e)},h=function(t,e){var a=t.commit,r=n()(e,2),s=r[0],i=r[1];a(o.b,[s,i])},m=function(t){(0,t.commit)(o.g)},g=function(t){(0,t.commit)(o.c)}},sDrE:function(t,e,a){"use strict";var r=a("OavV"),n=a("fHpd"),o=a("VU/8"),s=o(r.a,n.a,!1,null,null,null);e.a=s.exports},ukYY:function(t,e,a){"use strict";a.d(e,"a",function(){return x});var r,n=a("bOdI"),o=a.n(n),s=a("d7EF"),i=a.n(s),l=a("Xxa5"),c=a.n(l),u=a("exGp"),d=a.n(u),p=a("mvHQ"),v=a.n(p),f=a("fZjL"),h=a.n(f),m=a("/5sW"),g=a("Ba3q"),w=a.n(g),k=a("BcEq"),x=(r={},o()(r,k.l,function(t,e){h()(e).forEach(function(a){m.a.set(t.userData,a,e[a])})}),o()(r,k.d,function(t,e){t.courseList=e,localStorage.courseList=v()(e)}),o()(r,k.a,function(t,e){var a=new Date,r=localStorage.annNotify?JSON.parse(localStorage.annNotify):{};t.template=e.map(function(t){return t[0]},[]),t.announceData=e.reduce(function(t,e){var n=e[0];return r[n]||(r[n]={}),e[2]=e[2]||[],t[n]={},t[n].name=e[1],t[n].list=e[2].length?e[2].reduce(function(t,e){var o=e[0];return void 0===r[n][o]&&(r[n][o]=Math.abs(a-new Date(e[2]))<12096e5),t.push({id:o,title:e[8],content:e[9]||"沒有內容",timeStamp:e[2]}),w()(t,["timeStamp","title"],["desc","asc"])},[]):[{title:"暫無公告"}],t},{}),t.announceNotify=r,localStorage.announce=v()(t.announceData),localStorage.annNotify=v()(r)}),o()(r,k.e,function(t,e){var a=this;return d()(c.a.mark(function r(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.homeworkData=e.reduce(function(t,e){var a=e[0];return t[a]={},t[a].name=e[1],t[a].list=null===e[2]?[{title:"暫無作業"}]:e[2].reduce(function(t,e){return t.push({id:e[1],title:e[0],content:e[4]||"沒有內容",percentage:e[2],timeStamp:e[3]}),w()(t,["timeStamp","title"],["desc","asc"])},[]),t},{}),localStorage.homework=v()(t.homeworkData);case 2:case"end":return a.stop()}},r,a)}))()}),o()(r,k.k,function(t,e){var a=e.textbook,r=e.chapter,n={};t.template.forEach(function(t,e){n[t]={},n[t].list=r[e]||{0:{0:"所有教材"}},n[t].content=a[e]}),t.textbookData=n,localStorage.textbook=v()(t.textbookData)}),o()(r,k.j,function(t,e){h()(e).forEach(function(a){m.a.set(t.settingData,a,e[a])}),localStorage.setting=v()(t.settingData)}),o()(r,k.i,function(t,e){var a=i()(e,2),r=a[0],n=a[1];m.a.set(t.scoreData,r,n),localStorage.score=v()(t.scoreData)}),o()(r,k.h,function(t,e){var a=i()(e,2),r=a[0],n=a[1];m.a.set(t.rollData,r,n),localStorage.roll=v()(t.rollData)}),o()(r,k.f,function(t,e){t.homeworkFile=e}),o()(r,k.b,function(t,e){var a=i()(e,2),r=a[0],n=a[1];t.announceNotify[r][n]=!1,localStorage.annNotify=v()(t.announceNotify)}),o()(r,k.g,function(t){localStorage.annNotify&&(t.courseList=JSON.parse(localStorage.courseList),t.announceData=JSON.parse(localStorage.announce),t.homeworkData=JSON.parse(localStorage.homework),t.textbookData=JSON.parse(localStorage.textbook),t.homeworkData=JSON.parse(localStorage.homework),localStorage.score&&(t.scoreData=JSON.parse(localStorage.score)),localStorage.roll&&(t.rollData=JSON.parse(localStorage.roll)),t.announceNotify=JSON.parse(localStorage.annNotify))}),o()(r,k.c,function(t){t.userData.loggedIn=!1,t.courseList=[],t.announceData={},t.homeworkData={},t.textbookData={},t.announceNotify={},localStorage.removeItem("user"),localStorage.removeItem("annNotify")}),r)},z14t:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),o=a("exGp"),s=a.n(o),i=a("Zrlr"),l=a.n(i),c=a("wxAW"),u=a.n(c),d=a("mtWM"),p=a.n(d),v=a("NUJE"),f=a("DEN3"),h=new TextDecoder("big5"),m=function(){function t(){l()(this,t)}return u()(t,null,[{key:"getList",value:function(t){try{for(var e=/login_s\.php\?courseid=[0-9]+_[0-9]+_([0-9]+)" target="_top">([\u4e00-\u9fa5 a-zA-Z0-9\s()（）]+)<\/a>.+?;">([\u4e00-\u9fa5]+)<\/a>/g,a=e.exec(t),r=[];a;)r.push({id:a[1],name:a[2],professor:a[3]}),a=e.exec(t);return console.log("CourseList:\n",r),{stat:!0,data:r}}catch(t){return v.a.errHandler(t,"Parse Course Fail!"),{stat:!1,data:[]}}}},{key:"changeCourse",value:function(){function t(t){return e.apply(this,arguments)}var e=s()(n.a.mark(function t(e){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==this.previous){t.next=2;break}return t.abrupt("return",!1);case 2:return this.previous=e,t.next=5,p.a.get(f.ecourse.COURSE_SELECT,{responseType:"arraybuffer",params:{courseid:"106_1_"+e}}).catch(function(t){return v.a.errHandler});case 5:return a=t.sent,t.abrupt("return",-1===h.decode(a.data).indexOf("權限錯誤"));case 7:case"end":return t.stop()}},t,this)}));return t}()}]),t}();e.a=m},zk8U:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),o=a("exGp"),s=a.n(o),i=a("Zrlr"),l=a.n(i),c=a("wxAW"),u=a.n(c),d=a("mtWM"),p=a.n(d),v=a("NUJE"),f=a("DEN3"),h=function(){function t(){l()(this,t)}return u()(t,null,[{key:"getData",value:function(){function t(t){return e.apply(this,arguments)}var e=s()(n.a.mark(function t(e){var a,r,o,s,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get(f.ecourse.TEXTBOOK).catch(function(t){return v.a.errHandler(t,"Get Textbook Error!")});case 2:return a=t.sent,r=/var Textbook\s=\s(.+)/.exec(a.data)[1],o=/var ChapTitle\s=\s(.+)/.exec(a.data)[1],t.prev=5,s=JSON.parse(r.slice(0,-1)),console.log("Textbook:\n",s),i=JSON.parse(o.slice(0,-1)),console.log("ChapterTitle:\n",i),t.abrupt("return",{stat:!0,data:{textbook:s,chapter:i}});case 13:return t.prev=13,t.t0=t.catch(5),v.a.errHandler(t.t0,"Parse Textbook Fail!"),t.abrupt("return",{stat:!1,data:[]});case 17:case"end":return t.stop()}},t,this,[[5,13]])}));return t}()}]),t}();e.a=h}},["NHnr"]);