webpackJsonp([0],{"07r+":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._v("走開走開٩(ŏ﹏ŏ、)۶不要跑來這裡(｡ŏ_ŏ)")])},n=[],o={render:r,staticRenderFns:n};e.a=o},"2zNh":function(t,e,a){t.exports=a.p+"static/img/icon.b9700ec.png"},"5Ywj":function(t,e,a){"use strict";var r=a("Zrlr"),n=a.n(r),o=a("wxAW"),i=a.n(o),s=function(){function t(){n()(this,t)}return i()(t,null,[{key:"errHandler",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.error((e||"")+"\n"+t)}},{key:"getSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===t)return"0 Bytes";var a=["Bytes","KB","MB","GB","TB"],r=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,r)).toFixed(e))+" "+a[r]}},{key:"getToday",value:function(){var t=new Date;return t.getFullYear().toString()+"-"+(t.getMonth()+101).toString().substring(1)+"-"+(t.getDate()+100).toString().substring(1)}},{key:"copyToClipboard",value:function(t){var e=document.createElement("div");document.body.appendChild(e),e.innerHTML=t,window.getSelection().removeAllRanges();var a=document.createRange();a.selectNode(e),window.getSelection().addRange(a);var r=document.execCommand("copy",!1);return e.remove(),r}},{key:"openLink",value:function(t,e){var a=document.createElement("a");e&&(a.download=e),a.target="_blank",a.href=t,a.click(),a.remove()}},{key:"hslToRgb",value:function(t,e,a){if(isNaN(t))return"transparent";var r=void 0,n=void 0,o=void 0;if(0===e)r=n=o=a;else{var i=function(t,e,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+6*(e-t)*a:a<.5?e:a<2/3?t+(e-t)*(2/3-a)*6:t},s=a<.5?a*(1+e):a+e-a*e,l=2*a-s;r=i(l,s,t+1/3),n=i(l,s,t),o=i(l,s,t-1/3)}return[Math.round(255*r),Math.round(255*n),Math.round(255*o)]}},{key:"getFormatTime",value:function(t,e){return[t,e,Math.floor(t/60)+":"+(100+t%60).toString().substring(1)+" - "+Math.floor(e/60)+":"+(100+e%60).toString().substring(1)]}}]),t}();e.a=s},"8HEu":function(t,e,a){"use strict";var r=a("07r+"),n=a("VU/8"),o=n(null,r.a,!1,null,null,null);e.a=o.exports},"9hH4":function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),o=a("exGp"),i=a.n(o),s=a("Zrlr"),l=a.n(s),c=a("wxAW"),u=a.n(c),d=a("mtWM"),p=a.n(d),v=a("5Ywj"),f=a("Ba3q"),h=a.n(f),m=a("DEN3"),g=function(){function t(){l()(this,t)}return u()(t,null,[{key:"getData",value:function(){function t(t){return e.apply(this,arguments)}var e=i()(n.a.mark(function t(e){var a,r,o;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get(m.ecourse.ANNOUNCE).catch(function(t){return v.a.errHandler(t,"Get Announce Error!")});case 2:return a=t.sent,t.prev=3,r=/var js\s=\s(.+)/.exec(a.data)[1],o=JSON.parse(r.slice(0,-1)),console.log("Announce:\n",o),t.abrupt("return",{stat:!0,data:this.parseData(o)});case 10:return t.prev=10,t.t0=t.catch(3),v.a.errHandler(t.t0,"Parse Announce Fail!"),t.abrupt("return",{stat:!1,data:[]});case 14:case"end":return t.stop()}},t,this,[[3,10]])}));return t}()},{key:"parseData",value:function(t){var e=new Date,a=localStorage.notify?JSON.parse(localStorage.notify):[],r=localStorage.annNotify?JSON.parse(localStorage.annNotify):{};return[t.map(function(t){return t[0]},[]),t.reduce(function(t,n){var o=n[0];return r[o]||(r[o]={}),n[2]=n[2]||[],t[o]={},t[o].name=n[1],t[o].list=n[2].length?n[2].reduce(function(t,i){var s=i[0];if(void 0===r[o][s]){var l=Math.abs(e-new Date(i[2]))<6048e5;r[o][s]=l,l&&a.push({type:1,id:s,title:i[8],course:n[1],courseID:o,timeStamp:i[2]})}return t.push({id:s,title:i[8],content:i[9]||"沒有內容",timeStamp:i[2]}),h()(t,["timeStamp","title"],["desc","asc"])},[]):[{title:"暫無公告"}],t},{}),r,a]}}]),t}();e.a=g},BcEq:function(t,e,a){"use strict";a.d(e,"h",function(){return r}),a.d(e,"o",function(){return n}),a.d(e,"m",function(){return o}),a.d(e,"d",function(){return i}),a.d(e,"a",function(){return s}),a.d(e,"e",function(){return l}),a.d(e,"n",function(){return c}),a.d(e,"k",function(){return u}),a.d(e,"j",function(){return d}),a.d(e,"l",function(){return p}),a.d(e,"g",function(){return v}),a.d(e,"i",function(){return f}),a.d(e,"b",function(){return h}),a.d(e,"f",function(){return m}),a.d(e,"c",function(){return g});var r="LOAD",n="USER",o="TABLE",i="COURSE",s="ANNOUNCE",l="HOMEWORK",c="TEXTBOOK",u="SCORE",d="ROLL",p="SETTING",v="HWFILE",f="NOTIFY",h="ANNOUNCE_NOTIFY",m="HOMEWORK_NOTIFY",g="CLEAR"},DEN3:function(t,e){t.exports={sso:{login:"/sso/login_check.php",logout:"/sso/logout_check.php",index:"/sso/index.php",ssoIndex:"/sso/sso_index.php",authcode:"/sso/misc/imgcode.php"},ecourse:{HOST:"https://ecourse.ccu.edu.tw",LOGIN:"/ec/php/index_login.php",LOGOUT:"/ec/php/logout.php",INDEX:"/ec/php/Courses_Admin/take_course.php?frame=1",INTRO:"/ec/php/Courses_Admin/intro.php",MOBILE:"/ec/ecourse/php/index_login.php",ANNOUNCE:"/ec/ecourse/php/courses_news/news.php",HOMEWORK:"/ec/ecourse/php/courses_homework/homework.php",TEXTBOOK:"/ec/ecourse/php/courses_textbook/material.php",COURSE_SELECT:"/ec/php/login_s.php",COURSE_SCORE:"/ec/php/Trackin/SGQueryFrame1.php",UNDER_DIR_FILE:"/ec/ecourse/php/courses_homework/UnderDirFile.php",SHOW_WORK:"/ec/php/Testing_Assessment/show_allwork.php",TEACHER_INFO:"/ec/php/Learner_Profile/show_teacher_info.php",ROLL:"/ec/php/Trackin/ShowStudentRollBook.php",PING:"/ec/php/online/online.php"},kiki:{LOGIN:"/kiki/~ccmisp06/cgi-bin/class_new/bookmark.php",LOGOUT:"/kiki/~ccmisp06/cgi-bin/class_new/logout.php",TABLE:"/kiki/~ccmisp06/cgi-bin/class_new/Selected_View00.cgi"}}},EWfp:function(t,e,a){"use strict";var r=a("EZYi"),n=a("je9L"),o=a("VU/8"),i=o(r.a,n.a,!1,null,null,null);e.a=i.exports},EZYi:function(t,e,a){"use strict";var r=a("//Fk"),n=a.n(r),o=a("d7EF"),i=a.n(o),s=a("mvHQ"),l=a.n(s),c=a("Xxa5"),u=a.n(c),d=a("exGp"),p=a.n(d),v=a("Dd8w"),f=a.n(v),h=a("ihBo"),m=a("nid1"),g=a("9hH4"),w=a("nx4Q"),b=a("eJfl"),k=a("O4Lo"),x=a.n(k),y=a("NYxO");e.a={name:"Ecourse",data:function(){return{loading:!1,isScroll:!1,isApp:!1,isMobile:window.innerWidth<800,deferredPrompt:null,tag:"announce",focusItem:null,username:"",password:"",avatar:"",notifyColor:["red darken-1","blue","orange","cyan","purple","brown"],weather:["dawn","sunrise","golden-hour","golden-hour-end","sunset","dusk","night"],currWeather:null,flag:{drawer:!0,theme:!1,setting:!1,login:!1,about:!1},setting:{showDivider:!1,weatherTheme:!1,enableNotify:!1,detectDate:!0,detectUrl:!0,isDownloadQuestion:!1,showIntro:!0,showTeacherInfo:!0,expandFirstFolder:!1,isDownloadTextbook:!0,scoreStyle2:!1,rankColorBlock:!0},settingData:{"外觀":[{field:"showDivider",title:"顯示格線",description:"在每個項目之間添加分隔線"}],"通知":[{field:"enableNotify",title:"啟用通知功能",description:"自動檢查新公告、新作業，顯示在右上小鈴鐺"}],"公告":[{field:"detectDate",title:"日期偵測",description:"公告日期添加底線"},{field:"detectUrl",title:"偵測網址",description:"公告網址變為可點之連結"}],"作業":[{field:"isDownloadQuestion",title:"強制下載題目",description:"強制下載文件而非打開新視窗(Safari無效)"}],"教材":[{field:"showIntro",title:"授課大綱",description:"是否顯示授課大綱"},{field:"showTeacherInfo",title:"教師資訊",description:"是否顯示教師資訊"},{field:"expandFirstFolder",title:"自動展開首項",description:"教材第一個資料夾會自動打開"},{field:"isDownloadTextbook",title:"強制下載教材",description:"強制下載文件而非打開新視窗(Safari無效)"}],"成績":[{field:"scoreStyle2",title:"切換成績風格",description:"變一塊一塊，適合手機端"},{field:"rankColorBlock",title:"顯示排名色塊",description:"成績前依據排名顯示色塊"}]},toast:{show:!1,timeout:3e3,top:!0,right:!1,bottom:!1,left:!1,color:"success",message:"",multi:!1}}},computed:f()({},Object(y.c)({User:"getUser",Notify:"getNotify",HomeworkData:"getHomework",CourseList:"getCourseList"}),{loginData:function(){return{id:this.username,pass:this.password,ver:"C"}},bottomNavColor:function(){switch(this.tag){case"announce":return"blue";case"homework":return"green";case"textbook":return"orange";case"score":return"red"}}}),created:function(){var t=this;return p()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isMobile&&(t.flag.drawer=!1),t.isApp=t.isWebApp(),t.currWeather=t.weather[Math.floor(100*Math.random()%8)],localStorage.setting&&(t.setting=JSON.parse(localStorage.setting)),t.updateSetting(t.setting),window.addEventListener("beforeinstallprompt",function(e){return e.preventDefault(),t.deferredPrompt=e,!1}),!navigator.onLine){e.next=11;break}return e.next=9,t.autoLogin();case 9:e.next=13;break;case 11:t.loadLocalData(),t.showToast({message:"當前處於離線狀態",color:"info",multi:!0});case 13:case"end":return e.stop()}},e,t)}))()},watch:{setting:{handler:function(){this.updateSetting(this.setting)},deep:!0}},methods:f()({},Object(y.b)(["updateUser","updateCourse","updateAnnounce","updateHomework","updateTextbook","updateSetting","updateHwFile","updateNotify","loadLocalData","clearData"]),{onScroll:x()(function(){this.isScroll=window.scrollY>100},100),toTop:function(){window.scroll({top:0,behavior:"smooth"})},isWebApp:function(){return!0===window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches},showToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.message,a=void 0===e?"":e,r=t.top,n=void 0===r||r,o=t.right,i=void 0!==o&&o,s=t.bottom,l=void 0!==s&&s,c=t.left,u=void 0!==c&&c,d=t.color,p=void 0===d?"success":d,v=t.multi,f=void 0!==v&&v,h=t.timeout,m=void 0===h?1500:h;this.toast.show=!0,this.toast.top=n,this.toast.right=i,this.toast.bottom=l,this.toast.left=u,this.toast.color=p,this.toast.multi=f,this.toast.timeout=m,this.toast.message=a},showpPrompt:function(){this.deferredPrompt?this.deferredPrompt.prompt():this.showToast({message:'呼叫失敗，可在瀏覽器設定中找到"添加至桌面"選項',color:"error",multi:!0})},uploadAvatar:function(t){var e=this,a=t.target.files[0];if(a){var r=new FileReader;r.onloadend=function(){e.avatar=r.result,localStorage["avatar"+e.User.studentId]=r.result},r.readAsDataURL(a)}},toNotify:function(t){var e=this;this.$router.push({name:"Course",params:{id:this.Notify[t].courseID}});var a=""+this.Notify[t].type+this.Notify[t].id;this.updateNotify(t),this.focusItem=a,setTimeout(function(){e.focusItem=null},2e3)},keepAlive:function(){setInterval(function(){return h.a.ping()},3e5)},autoLogin:function(){var t=this;return p()(u.a.mark(function e(){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.user){e.next=3;break}return t.flag.drawer=!1,e.abrupt("return");case 3:return t.loadLocalData(),t.loading=!0,e.next=7,h.a.getIndex();case 7:if(a=e.sent,-1!==a.indexOf("權限錯誤")){e.next=13;break}return t.updateUser({username:JSON.parse(localStorage.user).id,loggedIn:!0}),e.next=12,t.fetchData();case 12:return e.abrupt("return");case 13:return e.next=15,t.login(!0);case 15:case"end":return e.stop()}},e,t)}))()},login:function(t){var e=this;return p()(u.a.mark(function a(){var r,n;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=t?JSON.parse(localStorage.user):e.loginData,a.next=3,h.a.login(r);case 3:if(n=a.sent,n.stat){a.next=6;break}return a.abrupt("return",e.showToast({message:n.message,color:"error"}));case 6:return t||(localStorage.user=l()(e.loginData)),e.flag.login=!1,e.showToast({message:"登入成功",color:"success"}),e.updateUser({username:r.username,loggedIn:!0}),a.next=12,e.fetchData();case 12:case"end":return a.stop()}},a,e)}))()},logout:function(){var t=this;return p()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.logout();case 2:t.clearData(),t.flag.drawer=!1,t.$router.push({path:"/"}),t.showToast({message:"登出成功",color:"success"});case 6:case"end":return e.stop()}},e,t)}))()},fetchData:function(){var t=this;return p()(u.a.mark(function e(){var a,r,o,s,l,c,d,p,v,f;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.flag.drawer=!0,e.next=4,h.a.getIndex();case 4:return a=e.sent,r=h.a.getData(a),o=m.a.getList(a),t.updateUser(r),t.updateCourse(o.data),localStorage["avatar"+t.User.studentId]&&(t.avatar=localStorage["avatar"+t.User.studentId]),e.next=12,n.a.all([g.a.getData(),w.a.getData(),b.a.getData()]);case 12:return s=e.sent,l=i()(s,3),c=l[0],d=l[1],p=l[2],t.updateAnnounce(c.data),t.updateHomework(d.data),t.updateTextbook(p.data),e.next=22,w.a.getAllQuestion(t.HomeworkData);case 22:if(v=e.sent,t.updateHwFile(v.data),f=!(c.stat&&d.stat&&v.stat&&p.stat),f?t.showToast({message:"取得資料錯誤",color:"error"}):t.showToast({message:"資料更新成功",color:"info"}),t.loading=!1,!t.$route.params.id){e.next=30;break}return e.next=30,m.a.changeCourse(t.$route.params.id);case 30:t.keepAlive();case 31:case"end":return e.stop()}},e,t)}))()}})}},FjSB:function(t,e,a){"use strict";var r=a("zThr"),n=a("jWTn"),o=a("VU/8"),i=o(r.a,n.a,!1,null,null,null);e.a=i.exports},GRlc:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{key:t.$route.params.id,attrs:{row:"row",wrap:"wrap"}},[a("transition",{attrs:{name:"slide-x-transition"}},[t.isMobile&&"announce"===t.tag||!t.isMobile&&"score"!==t.tag?a("v-flex",{staticClass:"pl-2",attrs:{xs12:"xs12",md4:"md4"}},[a("v-card",{staticClass:"main-card elevation-1",attrs:{color:"grey lighten-5",flat:"flat"}},[a("v-toolbar",{staticStyle:{overflow:"hidden"},attrs:{dark:"dark",color:"primary",flat:"flat"}},[a("v-toolbar-side-icon",{directives:[{name:"show",rawName:"v-show",value:t.search.title,expression:"search.title"}]},[a("v-icon",[t._v("mdi-menu")])],1),a("v-toolbar-title",{directives:[{name:"show",rawName:"v-show",value:t.search.title,expression:"search.title"}],staticClass:"no-select"},[t._v("公告")]),a("v-spacer"),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.search.flag,expression:"!search.flag"}],staticClass:"mr-3",attrs:{ripple:!1,icon:"icon","aria-label":"search"},on:{click:t.toggleSearch}},[a("v-icon",[t._v("mdi-magnify")])],1),a("v-text-field",{ref:"search",staticClass:"exp-search",class:{open:t.search.flag},attrs:{type:"text",label:"搜尋標題",solo:"solo","prepend-icon":"mdi-magnify",light:"light"},on:{blur:t.toggleSearch},model:{value:t.search.keyword,callback:function(e){t.$set(t.search,"keyword",e)},expression:"search.keyword"}})],1),a("v-list",{staticClass:"tile-hover pa-0",attrs:{"two-line":"two-line",subheader:"subheader"}},[a("v-subheader",{directives:[{name:"show",rawName:"v-show",value:t.search.keyword,expression:"search.keyword"}]},[t._v("搜尋結果")]),t._l(t.AnnounceList.list,function(e,r){return[a("v-list-tile",{directives:[{name:"show",rawName:"v-show",value:e.title.indexOf(t.search.keyword)>-1,expression:"item.title.indexOf(search.keyword) > -1"}],key:e.id,class:{yellow:t.focusItem==="1"+e.id},attrs:{avatar:"avatar"},nativeOn:{click:function(e){t.showAnnounce(r)}}},[a("v-list-tile-avatar",[e.timeStamp?a("v-badge",{staticClass:"notify",attrs:{overlap:"overlap",color:"red"},model:{value:t.AnnNotify[e.id],callback:function(a){t.$set(t.AnnNotify,e.id,a)},expression:"AnnNotify[item.id]"}},[a("span",{attrs:{slot:"badge"},slot:"badge"}),a("v-icon",{attrs:{medium:"medium"}},[t._v("mdi-widgets")])],1):t._e()],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))]),a("v-list-tile-sub-title",[t._v(t._s(e.timeStamp))])],1)],1),t.Setting.showDivider?a("v-divider"):t._e()]})],2)],1)],1):t._e()],1),a("transition",{attrs:{name:t.isMobile?"slide-x-transition":"slide-y-transition"}},[t.isMobile&&"homework"===t.tag||!t.isMobile&&"score"!==t.tag?a("v-flex",{staticClass:"pl-2",attrs:{xs12:"xs12",md4:"md4"}},[a("v-card",{staticClass:"main-card elevation-1",attrs:{id:"homework",color:"grey lighten-5",flat:"flat"}},[a("v-toolbar",{attrs:{color:"green",flat:"flat",dark:"dark"}},[a("v-toolbar-side-icon",[a("v-icon",[t._v("mdi-menu")])],1),a("v-toolbar-title",{staticClass:"no-select"},[t._v("作業")]),a("v-spacer"),a("v-tooltip",{staticClass:"mr-0 hidden-sm-and-down",attrs:{left:"left"}},[a("v-btn",{attrs:{slot:"activator",icon:"icon","aria-label":"score"},on:{click:t.showScore},slot:"activator"},[a("v-icon",[t._v("mdi-chart-line")])],1),a("span",[t._v("成績")])],1)],1),a("v-list",{staticClass:"tile-hover pa-0",attrs:{"two-line":"two-line",subheader:"subheader"}},[t._l(t.HomeworkList.list,function(e,r){return[a("v-list-tile",{key:r,class:{yellow:t.focusItem==="2"+e.id},attrs:{ripple:"ripple",avatar:"avatar"},nativeOn:{click:function(e){t.showHomework(r)}}},[e.id?[a("v-list-tile-avatar",[e.timeStamp?a("v-badge",{staticClass:"notify",attrs:{overlap:"overlap",color:"red"},model:{value:t.HwNotify[e.id],callback:function(a){t.$set(t.HwNotify,e.id,a)},expression:"HwNotify[item.id]"}},[a("span",{attrs:{slot:"badge"},slot:"badge"}),a("v-icon",{attrs:{medium:"medium"}},[t._v("mdi-clipboard-text")])],1):t._e()],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))]),a("v-list-tile-sub-title",[t._v(t._s(e.timeStamp)+" / "+t._s(e.percentage)+"%")])],1),t.HwFile[e.id]&&t.HwFile[e.id].type?a("v-list-tile-action",[a("v-tooltip",{attrs:{top:"top"}},[a("v-btn",{attrs:{slot:"activator",icon:"icon","aria-label":"type"},on:{click:function(a){a.stopPropagation(),t.downloadQues(e.id,t.HwFile[e.id].type)}},slot:"activator"},[a("v-icon",{attrs:{large:"large",color:"grey lighten-1"}},[t._v(t._s(t.fileType[t.HwFile[e.id].type]||"mdi-file"))])],1),a("span",[t._v("作業題目")])],1)],1):t._e(),t.isMobile?t._e():a("v-list-tile-action",[a("v-btn",{attrs:{icon:"icon","aria-label":"upload"},on:{click:function(a){a.stopPropagation(),t.showUpload(e.id)}}},[a("v-icon",{attrs:{large:"large",color:"grey"}},[t._v("mdi-upload")])],1)],1)]:[a("v-list-tile-avatar"),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))])],1)]],2),t.Setting.showDivider?a("v-divider"):t._e()]})],2)],1)],1):t._e()],1),a("transition",{attrs:{name:t.isMobile?"slide-x-transition":"slide-x-reverse-transition"}},[t.isMobile&&"textbook"===t.tag||!t.isMobile&&"score"!==t.tag?a("v-flex",{staticClass:"pl-2",attrs:{xs12:"xs12",md4:"md4"}},[a("v-card",{staticClass:"main-card elevation-1",attrs:{id:"textbook",color:"grey lighten-5",flat:"flat"}},[a("v-toolbar",{attrs:{color:"orange",flat:"flat",dark:"dark"}},[a("v-toolbar-side-icon",[a("v-icon",[t._v("mdi-menu")])],1),a("v-toolbar-title",{staticClass:"no-select"},[t._v("教材")]),a("v-spacer"),a("v-btn",{staticClass:"mr-2",attrs:{"aria-label":"search",icon:"icon"}},[a("v-icon",[t._v("mdi-magnify")])],1)],1),a("v-list",{staticClass:"pa-0",attrs:{"two-line":"two-line",subheader:"subheader"}},[t.Setting.showIntro?a("v-list-tile",{on:{click:t.getIntro}},[a("v-list-tile-avatar",[a("v-icon",{attrs:{large:"large"}},[t._v("mdi-file-account")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("授課大綱")])],1)],1):t._e(),t.Setting.showDivider?a("v-divider"):t._e(),t.Setting.showTeacherInfo?a("v-list-tile",{on:{click:t.getTeacherInfo}},[a("v-list-tile-avatar",[a("v-icon",{attrs:{large:"large"}},[t._v("mdi-file-account")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("教師資訊")])],1)],1):t._e(),t.Setting.showDivider?a("v-divider"):t._e(),t._l(t.TextbookList.list,function(e,r){return[t.TextbookList.content[r][0]?a("v-list-group",{key:e[0],staticClass:"hot-fix-for-list",attrs:{value:0===r&&t.Setting.expandFirstFolder,"prepend-icon":"mdi-folder","append-icon":"mdi-chevron-down"}},[a("v-list-tile",{attrs:{slot:"activator",ripple:"ripple"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e[0]))])],1)],1),t._l(t.TextbookList.content[r][0],function(e){return[a("v-list-tile",{key:e[0],attrs:{title:e[0]},nativeOn:{click:function(a){t.downloadTextbook(e[1])}}},[a("v-list-tile-action",[a("v-icon",{attrs:{large:"large"}},[t._v(t._s(t.fileType[e[4]]||"mdi-file"))])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e[0]))]),a("v-list-tile-sub-title",[t._v(t._s(e[3].split(" ")[0]))])],1)],1),t.Setting.showDivider?a("v-divider"):t._e()]})],2):t._e(),t.Setting.showDivider?a("v-divider"):t._e()]})],2)],1)],1):t._e()],1),a("transition",{attrs:{name:t.isMobile?"slide-x-transition":"slide-y-reverse-transition"}},["score"===t.tag?a("v-flex",{staticClass:"pl-2",attrs:{xs12:"xs12",md6:"md6","offset-md1":"offset-md1"}},[a("v-card",{staticClass:"main-card",class:{"elevation-1":!t.Setting.scoreStyle2},attrs:{id:"score-card",color:"grey lighten-5",flat:"flat"}},[a("v-toolbar",{attrs:{color:"red",flat:"flat",dark:"dark"}},[a("v-toolbar-side-icon",{staticClass:"ml-2"},[a("v-icon",[t._v("mdi-menu")])],1),a("v-toolbar-title",{staticClass:"no-select"},[t._v("成績")]),a("v-spacer"),a("v-tooltip",{staticClass:"mr-0 hidden-sm-and-down",attrs:{left:"left"}},[a("v-btn",{attrs:{slot:"activator",icon:"icon","aria-label":"score"},on:{click:function(e){t.tag="yo~~"}},slot:"activator"},[a("v-icon",[t._v("mdi-clipboard-text")])],1),a("span",[t._v("作業")])],1)],1),t._l(t.ScoreData,function(e,r){return e&&e.length?[a("v-list",{staticClass:"tile-hover pa-0",class:{stripe:!t.Setting.scoreStyle2,"block-score":t.Setting.scoreStyle2},attrs:{subheader:"subheader"}},[a("v-subheader",[t._v(t._s(r))]),t._l(e,function(e){return a("v-list-tile",{key:e.name+e.percentage,class:{"yellow lighten-1":"總成績"===r,"color-indicator":t.Setting.rankColorBlock,"score-item":t.Setting.scoreStyle2,"elevation-1":t.Setting.scoreStyle2},style:{"border-color":e.color},attrs:{ripple:"ripple",avatar:"avatar"},on:{click:function(t){}}},[a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.name))]),a("v-list-tile-sub-title",[t._v(t._s(e.percentage))])],1),a("v-list-tile-action",[a("v-btn",{staticClass:"score-block",attrs:{flat:"flat","aria-label":"rank",outline:"outline"}},[t._v(t._s(e.rank))])],1),a("v-list-tile-action",[a("v-btn",{staticClass:"score-block",attrs:{flat:"flat","aria-label":"score",outline:"outline"}},[t._v(t._s(e.score))])],1)],1)})],2)]:t._e()})],2)],1):t._e()],1),a("transition",{attrs:{name:t.isMobile?"slide-x-transition":"slide-y-reverse-transition"}},["score"===t.tag?a("v-flex",{staticClass:"pl-2",attrs:{xs12:"xs12",md4:"md4"}},[a("v-card",{staticClass:"main-card elevation-1",attrs:{id:"roll-card",color:"grey lighten-5",flat:"flat"}},[a("v-toolbar",{attrs:{color:"purple",flat:"flat",dark:"dark"}},[a("v-toolbar-side-icon",{staticClass:"ml-2"},[a("v-icon",[t._v("mdi-menu")])],1),a("v-toolbar-title",{staticClass:"no-select"},[t._v("點名")])],1),a("v-layout",{staticClass:"fix-flex",attrs:{row:"row",wrap:"wrap"}},[t._l(t.RollData,function(e){return[a("v-flex",{staticClass:"fix-flex-item roll-wrapper",attrs:{xs3:"xs3",sm3:"sm3",md2:"md2"}},[a("div",{staticClass:"roll-item"},[a("div",{staticClass:"text",staticStyle:{"font-weight":"800"}},[t._v(t._s(e[0]))]),"出席"===e[1]?a("div",{staticClass:"checkmark"}):t._e()])])]}),t.RollData.length?t._e():a("v-flex",{attrs:{xs12:"xs12"}},[a("v-card",{attrs:{flat:"flat"}},[a("v-card-title",[t._v("沒有點名資料")])],1)],1)],2)],1)],1):t._e()],1),a("v-dialog",{attrs:{"max-width":t.isMobile?350:490},model:{value:t.announce.flag,callback:function(e){t.$set(t.announce,"flag",e)},expression:"announce.flag"}},[a("v-card",{staticClass:"announce-dialog-box",attrs:{id:"announce"}},[a("v-snackbar",{attrs:{timeout:1e3,top:"top",absolute:"absolute",color:"success"},model:{value:t.announce.toastShow,callback:function(e){t.$set(t.announce,"toastShow",e)},expression:"announce.toastShow"}},[t._v(t._s(t.announce.message))]),a("v-card-title",{staticClass:"headline"},[a("div",{staticClass:"text-xs-center",class:{"hidden-more-text":t.isMobile}},[a("span",[t._v(t._s(t.announce.title))])]),a("v-spacer"),a("v-tooltip",{attrs:{top:"top"}},[a("v-btn",{attrs:{slot:"activator",icon:"icon","aria-label":"copy"},on:{click:t.copyAnnounce},slot:"activator"},[a("v-icon",[t._v("mdi-content-copy")])],1),a("span",[t._v("複製")])],1)],1),a("v-card-text",{domProps:{innerHTML:t._s(t.announce.content)}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"flat","aria-label":"close",color:"green darken-1"},nativeOn:{click:function(e){t.announce.flag=!1}}},[t._v("關閉")]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"490"},model:{value:t.homework.flag,callback:function(e){t.$set(t.homework,"flag",e)},expression:"homework.flag"}},[a("v-card",{staticClass:"announce-dialog-box",attrs:{id:"hw"}},[a("v-card-title",{staticClass:"headline"},[a("div",{staticClass:"text-xs-center",class:{"hidden-more-text":t.isMobile}},[a("span",[t._v(t._s(t.homework.title))])]),a("v-spacer"),t.isMobile?a("v-btn",{attrs:{icon:"icon","aria-label":"upload"},on:{click:function(e){t.showUpload(t.homework.id)}}},[a("v-icon",{attrs:{color:"grey darken-2"}},[t._v("mdi-upload")])],1):t._e()],1),a("v-card-text",{domProps:{innerHTML:t._s(t.homework.content)}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"flat","aria-label":"close",color:"green darken-1"},nativeOn:{click:function(e){t.homework.flag=!1}}},[t._v("關閉")]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600",persistent:"persistent"},model:{value:t.uploadHW.flag,callback:function(e){t.$set(t.uploadHW,"flag",e)},expression:"uploadHW.flag"}},[a("v-card",{staticClass:"announce-dialog-box",staticStyle:{"background-color":"#f2f2f2"},attrs:{id:"file-upload"}},[a("v-snackbar",{attrs:{timeout:1e3,top:"top",color:t.uploadHW.toastColor,absolute:"absolute"},model:{value:t.uploadHW.toastShow,callback:function(e){t.$set(t.uploadHW,"toastShow",e)},expression:"uploadHW.toastShow"}},[t._v(t._s(t.uploadHW.message))]),a("div",{staticClass:"headline text-xs-center pa-3"},[t._v("作業上傳"),a("v-btn",{staticClass:"right ma-0",attrs:{icon:"icon",ripple:"ripple","aria-label":"close"},on:{click:function(e){t.uploadHW.flag=!1}}},[a("v-icon",{attrs:{medium:"medium"}},[t._v("mdi-close")])],1)],1),a("v-layout",{attrs:{row:"row",wrap:"wrap"}},[a("v-container",{attrs:{fluid:"fluid"}},[a("v-subheader",{staticStyle:{color:"rgba(0,0,0,0.54)"}},[t._v("已交作業")]),a("v-layout",{attrs:{row:"row",wrap:"wrap"}},t._l(t.uploadHW.list,function(e,r){return e?a("v-flex",{key:r,staticClass:"upload-wrapper",attrs:{xs12:"xs12",sm6:"sm6"}},[a("div",{staticClass:"white upload-item elevation-2"},[a("v-text-field",{class:{"input-group--focused":e.success},attrs:{"append-icon":e.success?"mdi-check-circle":e.loading?"mdi-auto-fix":"mdi-delete","append-icon-cb":function(){return t.removeAnswer(r,e.name)},color:e.success?"green":"gray",loading:"loading",readonly:"readonly",label:e.size},nativeOn:{click:function(a){t.downloadAns(e.name)}},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"file.name"}},[e.loading?a("v-progress-linear",{attrs:{slot:"progress",indeterminate:!0,value:1,height:"4"},slot:"progress"}):t._e()],1)],1)]):t._e()})),a("v-subheader",{staticStyle:{color:"rgba(0,0,0,0.54)"}},[t._v("上傳檔案    "),a("span",{staticClass:"red--text"},[t._v("※檔案上限為20mb")])]),a("v-flex",{attrs:{xs12:"xs12"}},[a("v-layout",{attrs:{row:"row",wrap:"wrap"}},[a("v-flex",{attrs:{xs8:"xs8",sm9:"sm9",md10:"md10"}},[a("v-text-field",{staticClass:"white-text-field",staticStyle:{"margin-top":"-18px"},attrs:{id:"send-text-input",label:"直接上傳答案文字",textarea:"textarea","auto-grow":"auto-grow"},model:{value:t.uploadHW.content,callback:function(e){t.$set(t.uploadHW,"content",e)},expression:"uploadHW.content"}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs4:"xs4",sm3:"sm3",md2:"md2"}},[a("v-tooltip",{attrs:{left:"left"}},[a("v-btn",{staticClass:"mt-0",attrs:{slot:"activator",id:"send-text-btn","aria-label":"send",color:"red darken-1",block:"block",dark:"dark"},on:{click:function(e){t.uploadText(e)}},slot:"activator"},[a("v-icon",[t._v("mdi-send")])],1),a("span",[t._v("送出")])],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"xs12"}},[a("v-layout",{attrs:{row:"row",wrap:"wrap"}},[a("v-flex",{attrs:{xs6:"xs6"}},[a("v-card",{staticClass:"upload-type",staticStyle:{"margin-right":"5px"},attrs:{color:"blue darken-1",dark:"dark"},nativeOn:{click:function(e){t.$refs.uploadInput.click()}}},[a("p",{staticClass:"text-xs-center"},[a("v-icon",{attrs:{dark:"dark"}},[t._v("mdi-upload")]),t._v("上傳檔案")],1),a("input",{ref:"uploadInput",attrs:{type:"file",multiple:!1},on:{change:function(e){t.uploadFile(e,!1)}}})])],1),a("v-flex",{attrs:{xs6:"xs6"}},[a("v-card",{staticClass:"upload-type",staticStyle:{"margin-left":"5px"},attrs:{color:"green darken-1",dark:"dark"},nativeOn:{click:function(e){t.$refs.uploadMulInput.click()}}},[a("p",{staticClass:"text-xs-center"},[a("v-icon",{attrs:{dark:"dark"}},[t._v("mdi-upload-multiple")]),t._v("相關檔案")],1),a("input",{ref:"uploadMulInput",attrs:{type:"file",multiple:!0},on:{change:function(e){t.uploadFile(e,!0)}}})])],1)],1)],1)],1)],1)],1)],1)],1)},n=[],o={render:r,staticRenderFns:n};e.a=o},H883:function(t,e,a){"use strict";function r(t,e,a){return t<e?e:t>a?a:t}var n=function(){function t(){var a=e.shift();a&&a(t)}var e=[];return function(a){e.push(a),1===e.length&&t()}}();e.a={name:"topProgress",data:function(){return{error:!1,show:!1,progress:0,opacity:1,status:null,isPaused:!1}},props:{speed:{type:Number,default:350},color:{type:String,default:"#29d"},colorShadow:String,errorColor:{type:String,default:"#f44336"},trickle:{type:Boolean,default:!0},trickleSpeed:{type:Number,default:250},easing:{type:String,default:"linear"},height:{type:Number,default:3},minimum:{type:Number,default:.8},maximum:{type:Number,default:97.5},zIndex:{type:Number,default:9999}},computed:{progressColor:function(){return this.error?this.errorColor:this.color},isStarted:function(){return"number"==typeof this.status},boxShadow:function(){return this.colorShadow||this.progressColor},barStyle:function(){return{position:"fixed",top:"0",left:"0",right:"0",width:this.progress+"%",height:this.height+"px",backgroundColor:this.progressColor,transition:"all "+this.speed+"ms "+this.easing,opacity:""+this.opacity,zIndex:""+this.zIndex}},pegStyle:function(){return{display:"block",position:"absolute",right:"0",width:"100px",height:"100%",opacity:this.progress?"1":"0",boxShadow:"0 0 10px "+this.boxShadow+", 0 0 5px "+this.boxShadow,transform:"rotate(3deg) translate(0px, -4px)"}}},methods:{beforeEnter:function(t){this.opacity=0,this.progress=0,this.width=0},enter:function(t,e){this.opacity=1,e()},afterEnter:function(t){this._runStart()},_work:function(){var t=this;setTimeout(function(){t.isStarted&&!t.isPaused&&(t.increase(),t._work())},this.trickleSpeed)},_runStart:function(){this.status=100===this.progress?null:this.progress,this.trickle&&this._work()},start:function(){this.isPaused=!1,this.show?this._runStart():this.show=!0},set:function(t){var e=this;this.isPaused=!1;var a=void 0;a=this.isStarted?t<this.progress?r(t,0,100):r(t,this.minimum,100):0,this.status=100===a?null:a,n(function(t){e.progress=a,100===a?setTimeout(function(){e.opacity=0,setTimeout(function(){e.show=!1,e.error=!1,t()},e.speed)},e.speed):setTimeout(t,e.speed)})},increase:function(t){var e=this.progress;e<100&&"number"!=typeof t&&(t=e>=0&&e<25?3*Math.random()+3:e>=25&&e<50?3*Math.random():e>=50&&e<85?2*Math.random():e>=85&&e<99?.5:0),this.set(r(e+t,0,this.maximum))},decrease:function(t){0!==this.progress&&this.increase(-t)},done:function(){this.set(100)},getProgress:function(){return this.status?this.progress:0},pause:function(){this.isPaused=!0},fail:function(){this.error=!0,this.done()}}}},IcnI:function(t,e,a){"use strict";var r=a("/5sW"),n=a("NYxO"),o=a("ukYY"),i=a("UjVw"),s=a("mUbh");r.a.use(n.a),e.a=new n.a.Store({state:{userData:{loggedIn:!1,username:"",name:"",studentId:"",department:"",classes:""},template:{},timeTable:[],courseList:[],announceData:{},homeworkData:{},textbookData:{},scoreData:{},rollData:{},settingData:{},homeworkFile:{},notify:[],announceNotify:{},homeworkNotify:{}},mutations:o.a,getters:i,actions:s,strict:!1})},L7Wk:function(t,e,a){"use strict";var r=a("mvHQ"),n=a.n(r),o=a("Gu7T"),i=a.n(o),s=a("Xxa5"),l=a.n(s),c=a("exGp"),u=a.n(c),d=a("Zrlr"),p=a.n(d),v=a("wxAW"),f=a.n(v),h=a("mw3O"),m=a.n(h),g=a("KBYM"),w=a.n(g),b=a("mtWM"),k=a.n(b),x=a("5Ywj"),y=a("DEN3"),_=function(){function t(){p()(this,t)}return f()(t,null,[{key:"login",value:function(){function t(){return e.apply(this,arguments)}var e=u()(l.a.mark(function t(){var e,a,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.user){t.next=2;break}return t.abrupt("return");case 2:return e=JSON.parse(localStorage.user),a=m.a.stringify({id:e.id,password:e.pass}),t.next=6,k.a.post(y.kiki.LOGIN,a).catch(function(t){x.a.errHandler(t,"Kiki login Error")});case 6:r=t.sent,this.session=/session_id=([\w\d]+)/.exec(r.request.responseURL)[1];case 8:case"end":return t.stop()}},t,this)}));return t}()},{key:"getData",value:function(){function t(t){return e.apply(this,arguments)}var e=u()(l.a.mark(function t(e){var a,r,o,s,c,u,d;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get(y.kiki.TABLE,{params:{year:"106",term:e,session_id:this.session}}).catch(function(t){x.a.errHandler(t,"Kiki getData Error")});case 2:for(a=t.sent,r=new DOMParser,o=r.parseFromString(a.data,"text/html"),s=[].concat(i()(o.querySelectorAll("table:nth-child(6) > tbody > tr:not(:nth-child(1)) > th"))),s=s.map(function(t){return t.textContent}),c=[[],[],[],[],[]],u=function(t){var e=s[t+7].replace(/\s/g,"").match(/[^\w^,]+|[\w,]+/gi),a=e.filter(function(t,e){return!(e%2)}),r=e.filter(function(t,e){return e%2});r=r.map(function(t){if(t=t.split(","),/[a-zA-Z]/.test(t[0])){var e=435+90*(t[0].toLowerCase().charCodeAt(0)-97),a=510+90*(t[t.length-1].toLowerCase().charCodeAt(0)-97);return x.a.getFormatTime(e,a)}var r=370+60*parseInt(t[0]),n=420+60*parseInt(t[t.length-1]);return x.a.getFormatTime(r,n)}),a.forEach(function(e,a){var n="一二三四五".indexOf(e);a<0||c[n].push({id:s[t+1],name:s[t+3],professor:s[t+4],required:s[t+6],date:e,start:r[a][0],end:r[a][1],time:r[a][2],location:s[t+8]})})},d=0;d<s.length;d+=10)u(d);return c=c.map(function(t){return w()(t,["start"])}),c.map(function(t){return t.forEach(function(e,a){0===a?t[0].distance=e.start-430:t[a].distance=e.start-t[a-1].end+t[a-1].distance-10}),t}),console.log(c),localStorage.courseTable=n()(c),t.abrupt("return",c);case 15:case"end":return t.stop()}},t,this)}));return t}()}]),t}();e.a=_},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("/5sW"),n=a("NYxO"),o=a("IcnI"),i=a("cHtD"),s=a("3EgV"),l=a.n(s),c=a("lnPn"),u=a("cwXR");r.a.config.devtools=!0,r.a.config.performance=!0,r.a.config.productionTip=!1,r.a.use(n.a),r.a.use(l.a),r.a.component(c.a.name,c.a),new r.a({el:"#app",router:i.a,store:o.a,render:function(t){return t(u.a)}})},NMl0:function(t,e,a){t.exports=a.p+"static/img/nav.913159a.png"},ODRO:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{css:!1},on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[t.show?a("div",{staticClass:"top-progress",style:t.barStyle},[a("div",{staticClass:"peg",style:t.pegStyle})]):t._e()])},n=[],o={render:r,staticRenderFns:n};e.a=o},RS1F:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),o=a("exGp"),i=a.n(o),s=a("Zrlr"),l=a.n(s),c=a("wxAW"),u=a.n(c),d=a("mtWM"),p=a.n(d),v=a("5Ywj"),f=a("DEN3"),h=new TextDecoder("big5"),m=function(){function t(){l()(this,t)}return u()(t,null,[{key:"getScore",value:function(){function t(){return e.apply(this,arguments)}var e=i()(n.a.mark(function t(){var e,a,r,o,i,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get(f.ecourse.COURSE_SCORE,{responseType:"arraybuffer"}).catch(function(t){return v.a.errHandler(t)});case 2:return e=t.sent,a=new DOMParser,r=a.parseFromString(h.decode(e.data),"text/html"),o=r.querySelectorAll('tr[bgcolor="#4d6eb2"], tr[bgcolor="#E6FFFC"], tr[bgcolor="#F0FFEE"], tr[bgcolor="#B0BFC3"]'),i={},s="",o.forEach(function(t){var e=t.childNodes;switch(t.getAttribute("bgcolor")){case"#4d6eb2":s=e[0].textContent.replace("(名稱)",""),i[s]=[];break;case"#B0BFC3":void 0!==i["總成績"]?i["總成績"][0].score=e[1].textContent+"分":i["總成績"]=[{name:"總成績",rank:e[1].textContent}];break;default:var a=e[2].textContent?e[2].textContent+"分":"-",r=e[3].textContent.replace("你沒有成績","-"),n=r.split("/"),o=1-n[0]/n[1],l=v.a.hslToRgb(1.2*o/3.6,1,.5);i[s].push({name:e[0].textContent,percentage:e[1].textContent,score:a,rank:r,color:"rgb("+l[0]+", "+l[1]+", "+l[2]+")"})}}),t.abrupt("return",i);case 10:case"end":return t.stop()}},t,this)}));return t}()},{key:"getRoll",value:function(){function t(){return e.apply(this,arguments)}var e=i()(n.a.mark(function t(){var e,a,r,o,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get(f.ecourse.ROLL,{responseType:"arraybuffer"}).catch(function(t){return v.a.errHandler(t)});case 2:e=t.sent,a=h.decode(e.data),r=/<TD\scolspan="2">([0-9\/出缺席]*?)<\/TD>\s*?<TD\scolspan="2">([0-9\/出缺席]*?)<\/TD>/g,o=[],i=void 0;do{(i=r.exec(a))&&o.push([i[1],i[2]])}while(i);return t.abrupt("return",o);case 9:case"end":return t.stop()}},t,this)}));return t}()}]),t}();e.a=m},"Ri/9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAADICAMAAABGfyqbAAAA+VBMVEU1Tmw2WHQ2W3Y1UW41VXE3ZHw3YXo2VnM1T21bn8lcr9U2XndcsdZcs9hctto1U3A3X3lbo8xam8Zboctbps9bqdBbpM1cuNw3Z35bqtJdvd9crNM3aX82WnRalsNanchakb9dwOJcut1amcVdv+Bak8E3YntamMRZjLxcu95dwuNZj701VHBairpdxeVdxOVZh7ldx+ZZgrRdyOhZiblZhLZZhrdeyulAaoo5boVDephJhaY/dpJHe509cos6YH1RmrxEbpBWpclXlL5XmMFNeqM+Y4NUoMNTjLROk7NQibBFg6BKjaxSfao7aIRUkblPhq1KcZk8WXveNpfQAAAG+UlEQVR42tXZa1cSURTG8UcpBLGkSQzjMhShltnFzAaGi9xVELTv/2HazAYPwdxgKNj/Nfj6t87a+4gOfo37wX23+mL19eunr59GvXtHD/fB6u2kjx8/vrd6M+7lpBcv6LHaG7dL0Q8uxR1xCe7ggB7q8ODQ6hX1evThotGo4tpqv3poKR9abkktNdZSYKsQbRSitFEImgQKorRRiNJGIUqr44ckrQ5RWh2itDpEaXWI0moQpdUgSqtBlFaDKK0GUVoNorQaRGk1iNJqWET7ft3aPERp8xA0Cfm8BklnS8MgSpuHKG0eorR5iNKeQJT2BKK0dLqStCcQpT2BKG0WorRZiNJmIUqbhShtFqK0WYjSZiFKm4UobRaitFmI0mYhSVsoQJS2AFHaAkRpCxClLUCUtgBR2gJEaXMQpc1BlDYHUdocltDu/i8tp7TEFaXNQZQ2B5/a7tGLDdDm4E/bKPc3QZuDL+2emS52X6xfm4Ovub0uptOlxPq1OfjRpkppisZhjVoO7lruNj2qeL23Ri0HH9pGNW1VPthbs/YMPu5bMz3O3N1br/YMnlprzygeh7Vqiet5tkel9FPlxjq1FLy0vGeTzNQatRS8tLxnahzWqKXgrt3b7aWnS9I4rEx7crKAloO7lvds2ts7Wpm2Yi6qPYW7NlFKzzS4Da7lHuK1O20x7SlctFQ/PVuy2liNtjnY3h4MF9IS102r9kxpaRwSq9CelLYpo5n3r6XgoqU9s9Em07epgFoehe1R9YJ/LQVHLaX2TGmpajcVWNs0trlK1reWgos2UbbTUpVE0PuWRmFcrO1Py8FWy/UdtDQOAbXaXXjCzdQefGk5OGsb1Xkt97zaPQqk5VFgbqZz40fLwVG727PVsrd0GECbz1eUdjuzZQz9as9hq+U9c9Y+T/YDaLW72pQ2k9mq53xqz+GkTZSdtVSxtbyWR0Fpt7YeC760xJ3Xcn03LVV6lVhSy6OgtNR224+WgoO2W3XWcv0ltTwKSmsVv/ehpWCvTfVctFzxOuGpbbWic1oeBaXlanfeWgp22l3aMxctd1x67aXVS2Vt7tt4ZUbL7XRuCt7aS9hqE2V3LWd6TcLdcdyc0fIoKK3yGqfe2nPY/ke070d7PLh217aMWCx5o/91tk3DRsvVzzy1l7DR0p55adlbjrpp9UosHosZTV1paRQctTtbFU/tJWzONtXz1nKmvZa7qcVGVaa1NzVnLV1nHlrizml5zzy1PA5DZ22rGrM6flDappFx1NKn9uCh/YZ5baLsoVXccFk/nNdyvXiMGwxZy6Pgot2h68FdS9y59w5931rKdNIOk7Fx2/UWa2kUXLWUcZlz0RJ3TtstLqANJ4eHttp8PfbEjbVZW6hnXLRc/dRZS2FWm+otog2Hq5qNVo+a8YmWhLU7i9t2P1vu0VlLYUa7d1tcREv1XttohwOlpYymNQoZT+2zZ1ttRy2FGW2jnFxESyVv5rS6Vn7ScqUsj4Kn9tnn+P2ZnZbD31r6feZfy8WrrVlt9CH8pOXiJo2CHy15aw9nTtorTGt5zxbQcpXojLY5UNpxHbOT8dayt3PlpGXuRLt7VEkuqOVx+Eura6Unrarm62y5+qW9lrnqfdntgmfLxY0Wc1lLX8SUVuWtVT2e22mZq7S8Z761yluZ1jaNoNrPO+1TOy1zWUuZi58tc5/fjbWUVgms/bz/+/7UTvsTU9puMbmcNh4zWqzlUQis3Q/V7u20P6G0idKyWqqks1ZvGSvQkrdzcT6nJe6TlvZsWS11/MBarbISLXmNq/MZLQXW8p4tpeVig6blvXkeXMvc/frVjJYCa3nPltSyt6SRtlVfmTb07HFGS4G1vGdBtPRXg65pZnxl2lBoqz2j5VXjPQumpWcw1Ied1Wmp3/cz2gsQlfcsoJac5VZ5ZVquc/G3dsJtVJMBtVS4Hl6llr3T2gk3ZQbVcqvUcvWfSvvEvS5uqDa0/6i0FHjPNlUbiuy0r1jLXN6z5IZqQyH8vre0ituobq42EiHvlaVlbiplbrKWvJ0LxU3Rnm20ljIuFPegtOnaSOhRcW/Tm66NRPYnXnSrm6+NYKc95vYEaCOg64G5aRFaoGN5IUQLGBZXihaR+ogrRQuMrgeI0WJ0PUCOdnQ9QJCWvJCkpWRpIUsLWVrI0kKWFrK0kKWFLC1kaSFLC1layNJClhaytJClhSwtZGkhSwtZWsjSQpYWsrSQpYUsLWRpIUsLWVrI0kKWFrK0kKWFLC3+kXb/32ghSwtZWsjSQpYWsrSIi9JClhaytJClhSwtZGkhSwtZWsjSQpYWsrSQpYUsLWRpIUsLWVrI0kKWFrK0kKWFLC1kaSFLC1layNJClhaytJClhSwtNui9g4/+AMJWSrdmAkzyAAAAAElFTkSuQmCC"},UjVw:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"getUser",function(){return r}),a.d(e,"getTimeTable",function(){return n}),a.d(e,"getCourseList",function(){return o}),a.d(e,"getAnnounce",function(){return i}),a.d(e,"getHomework",function(){return s}),a.d(e,"getTextbook",function(){return l}),a.d(e,"getScore",function(){return c}),a.d(e,"getRoll",function(){return u}),a.d(e,"getHomeworkFile",function(){return d}),a.d(e,"getSetting",function(){return p}),a.d(e,"getNotify",function(){return v}),a.d(e,"getAnnNotify",function(){return f}),a.d(e,"getHwNotify",function(){return h});var r=function(t){return t.userData},n=function(t){return t.timeTable},o=function(t){return t.courseList},i=function(t){return t.announceData},s=function(t){return t.homeworkData},l=function(t){return t.textbookData},c=function(t){return t.scoreData},u=function(t){return t.rollData},d=function(t){return t.homeworkFile},p=function(t){return t.settingData},v=function(t){return t.notify},f=function(t){return t.announceNotify},h=function(t){return t.homeworkNotify}},aaPh:function(t,e,a){"use strict";var r=a("bFn/"),n=a("GRlc"),o=a("VU/8"),i=o(r.a,n.a,!1,null,null,null);e.a=i.exports},"bFn/":function(t,e,a){"use strict";var r=a("BO1k"),n=a.n(r),o=a("//Fk"),i=a.n(o),s=a("d7EF"),l=a.n(s),c=a("Xxa5"),u=a.n(c),d=a("exGp"),p=a.n(d),v=a("Dd8w"),f=a.n(v),h=a("5Ywj"),m=a("RS1F"),g=a("nid1"),w=a("nx4Q"),b=a("NYxO"),k=a("DEN3");e.a={props:["tab","focusItem"],data:function(){return{tag:"announce",isScroll:!1,isMobile:window.innerWidth<800,search:{flag:!1,title:!0,keyword:""},announce:{flag:!1,text:"",title:"",contnet:"",toastShow:!1,toastColor:"success",message:""},homework:{flag:!1,title:"",contnet:""},scoreUpdate:{},uploadHW:{workID:0,content:"",flag:!1,list:{},toastShow:!1,toastColor:"success",message:""},homeworkAns:{},fileType:{pdf:"mdi-file-pdf-box",ppt:"mdi-file-powerpoint-box",pptx:"mdi-file-powerpoint-box",doc:"mdi-file-word-box",docx:"mdi-file-word-box",xls:"mdi-file-excel-box",xlsx:"mdi-file-excel-box",txt:"mdi-file-document-box",xml:"mdi-file-xml",jpg:"mdi-image",png:"mdi-image",jpeg:"mdi-image",gif:"mdi-image-multiple",ogg:"mdi-music-box",mp3:"mdi-music-box",mp4:"mdi-video",mpeg:"mdi-video",zip:"mdi-zip-box",rar:"mdi-zip-box",js:"mdi-language-javascript",php:"mdi-language-php",py:"mdi-language-python-text"}}},created:function(){},computed:f()({},Object(b.c)({User:"getUser",CourseList:"getCourseList",Announce:"getAnnounce",Homework:"getHomework",Textbook:"getTextbook",Score:"getScore",Roll:"getRoll",Setting:"getSetting",HomeworkFile:"getHomeworkFile",AnnouceNotify:"getAnnNotify",HomeworkNotify:"getHwNotify"}),{courseID:function(){return this.$route.params.id},AnnounceList:function(){return this.Announce[this.$route.params.id]||{name:"QAO找不到",list:{}}},HomeworkList:function(){return this.Homework[this.$route.params.id]||{name:"QAO找不到",list:{}}},TextbookList:function(){return this.Textbook[this.$route.params.id]||{name:"QAO找不到",list:{}}},ScoreData:function(){return this.Score[this.$route.params.id]||{"目前沒有成績":null}},RollData:function(){return this.Roll[this.$route.params.id]||[]},HwFile:function(){return this.HomeworkFile[this.$route.params.id]||{}},HwAns:function(){return this.homeworkAns[this.$route.params.id]||{}},AnnNotify:function(){return this.AnnouceNotify[this.$route.params.id]||{}},HwNotify:function(){return this.HomeworkNotify[this.$route.params.id]||{}}}),watch:{tab:function(t){var e=this;return p()(u.a.mark(function a(){return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.tag="middle",setTimeout(function(){e.tag=t},300),"score"!==t){a.next=5;break}return a.next=5,e.showScore();case 5:case"end":return a.stop()}},a,e)}))()},courseID:function(t){var e=this;return p()(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("score"!==e.tag){t.next=3;break}return t.next=3,e.showScore();case 3:case"end":return t.stop()}},t,e)}))()}},beforeRouteLeave:function(t,e,a){return this.announce.flag?(this.announce.flag=!1,a(!1)):this.homework.flag?(this.homework.flag=!1,a(!1)):void a()},beforeRouteUpdate:function(t,e,a){return this.announce.flag?(this.announce.flag=!1,a(!1)):this.homework.flag?(this.homework.flag=!1,a(!1)):void a()},methods:f()({},Object(b.b)(["updateScore","updateRoll","updateAnnNotify","updateHwNotify"]),{toggleSearch:function(){var t=this;this.search.flag?(this.search.flag=!1,setTimeout(function(){t.search.title=!0},200)):(this.search.flag=!0,this.search.title=!1,setTimeout(function(){t.$refs.search.focus()},300))},showUploadToast:function(t,e){this.uploadHW.toastShow=!0,this.uploadHW.toastColor=e,this.uploadHW.message=t},showAnnounce:function(t){var e=this.AnnounceList.list[t].id;if(this.AnnounceList.list[t].content){var a=this.AnnounceList.list[t].content.replace(/\r\n/g,"<br>");if(this.announce.text=a,this.Setting.detectUrl){var r=/(((?:http(s)?:\/\/)[\w.-]+(?:\.[\w.-]+)+)[\w\-._~:\/?#[\]@!$&'*+,;=.]+)/g;a=a.replace(r,' <a href="$1" target="_blank">$2...</a> ')}if(this.Setting.detectDate){var n=/(([\d]{1,4}\/)?[\d]{1,4}\/[\d]{1,4})(\([\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u65e5\u661f\u671f]{1,3}\))?/g;a=a.replace(n,'<u class="date-padding">$1</u>$3')}this.announce.title=this.AnnounceList.list[t].title,this.announce.content=a,this.announce.flag=!0,this.AnnNotify[e]&&this.updateAnnNotify([this.courseID,e])}},showHomework:function(t){var e=this.HomeworkList.list[t].id;this.homework.id=e,this.homework.title=this.HomeworkList.list[t].title,this.homework.content=this.HomeworkList.list[t].content,this.homework.flag=!0,this.HwNotify[this.HomeworkList.list[t].id]&&this.updateHwNotify([this.courseID,e])},copyAnnounce:function(){h.a.copyToClipboard(this.announce.text)&&(this.announce.message="已將內容複製到剪貼簿。",this.announce.toastShow=!0)},downloadTextbook:function(t){var e=""+k.ecourse.HOST+t.slice(8);h.a.openLink(e,this.Setting.isDownloadTextbook)},getIntro:function(){var t=this;return p()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.changeCourse(t.courseID);case 2:h.a.openLink(k.ecourse.INTRO,!1);case 3:case"end":return e.stop()}},e,t)}))()},getTeacherInfo:function(){var t=this;return p()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.changeCourse(t.courseID);case 2:h.a.openLink(k.ecourse.TEACHER_INFO,!1);case 3:case"end":return e.stop()}},e,t)}))()},downloadQues:function(t,e){var a=k.ecourse.HOST+"/"+this.courseID+"/homework/"+t+"/teacher/Question."+e;h.a.openLink(a,this.Setting.isDownloadQuestion)},downloadAns:function(t){var e=this;return p()(u.a.mark(function a(){var r;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.a.changeCourse(e.courseID);case 2:r=k.ecourse.SHOW_WORK+"?action=downloadFile&work_id="+e.uploadHW.workID+"&filename="+t,h.a.openLink(r,!1);case 4:case"end":return a.stop()}},a,e)}))()},showScore:function(){var t=this;return p()(u.a.mark(function e(){var a,r,n,o,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.tag="score",!t.scoreUpdate[t.courseID]){e.next=3;break}return e.abrupt("return");case 3:return t.scoreUpdate[t.courseID]=!0,a=t.courseID,e.next=7,g.a.changeCourse(a);case 7:return e.next=9,i.a.all([m.a.getScore(),m.a.getRoll()]);case 9:r=e.sent,n=l()(r,2),o=n[0],s=n[1],t.updateScore([a,o]),t.updateRoll([t.courseID,s]);case 15:case"end":return e.stop()}},e,t)}))()},showUpload:function(t){var e=this;return p()(u.a.mark(function a(){return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.uploadHW.workID=t,e.uploadHW.flag=!0,e.homeworkAns[e.courseID]||(e.homeworkAns[e.courseID]={}),a.next=5,w.a.getAnswer(e.courseID,t);case 5:e.uploadHW.list=a.sent;case 6:case"end":return a.stop()}},a,e)}))()},uploadText:function(){var t=this;return p()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.uploadText(t.uploadHW.content,t.uploadHW.workID);case 2:return e.next=4,w.a.getAnswer(t.courseID,t.uploadHW.workID);case 4:t.uploadHW.list=e.sent,t.showUploadToast("上傳成功","success");case 6:case"end":return e.stop()}},e,t)}))()},uploadFile:function(t,e){var a=this;return p()(u.a.mark(function r(){var o,i,s,l,c,d,p,v,f,m,g,b,k,x,y,_,S,C,N,D,T;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=t.target.files||t.dataTransfer.files,o.length){r.next=3;break}return r.abrupt("return");case 3:for(i=[],s=!0,l=!1,c=void 0,r.prev=7,d=n()(o);!(s=(p=d.next()).done);s=!0)v=p.value,i.push(a.uploadHW.list.length),a.uploadHW.list.push({name:v.name,size:h.a.getSize(v.size),loading:!0});r.next=15;break;case 11:r.prev=11,r.t0=r.catch(7),l=!0,c=r.t0;case 15:r.prev=15,r.prev=16,!s&&d.return&&d.return();case 18:if(r.prev=18,!l){r.next=21;break}throw c;case 21:return r.finish(18);case 22:return r.finish(15);case 23:return r.next=25,w.a.uploadFile(o,e,a.courseID,a.uploadHW.workID);case 25:if(!(f=r.sent)){r.next=49;break}for(m=!0,g=!1,b=void 0,r.prev=30,k=n()(i);!(m=(x=k.next()).done);m=!0)y=x.value,a.uploadHW.list[y].loading=!1,a.uploadHW.list[y].success=!0;r.next=38;break;case 34:r.prev=34,r.t1=r.catch(30),g=!0,b=r.t1;case 38:r.prev=38,r.prev=39,!m&&k.return&&k.return();case 41:if(r.prev=41,!g){r.next=44;break}throw b;case 44:return r.finish(41);case 45:return r.finish(38);case 46:a.showUploadToast("上傳成功","success"),r.next=69;break;case 49:for(_=!0,S=!1,C=void 0,r.prev=52,N=n()(i);!(_=(D=N.next()).done);_=!0)T=D.value,a.uploadHW.list[T]=null;r.next=60;break;case 56:r.prev=56,r.t2=r.catch(52),S=!0,C=r.t2;case 60:r.prev=60,r.prev=61,!_&&N.return&&N.return();case 63:if(r.prev=63,!S){r.next=66;break}throw C;case 66:return r.finish(63);case 67:return r.finish(60);case 68:return r.abrupt("return",a.showUploadToast("上傳失敗! 請檢查網路狀態或避免上傳大檔案","error"));case 69:case"end":return r.stop()}},r,a,[[7,11,15,23],[16,,18,22],[30,34,38,46],[39,,41,45],[52,56,60,68],[61,,63,67]])}))()},removeAnswer:function(t,e){var a=this;return p()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(confirm("確定要刪除這個檔案?")){r.next=2;break}return r.abrupt("return");case 2:return a.uploadHW.list[t]=null,a.showUploadToast("刪除成功","success"),r.next=6,w.a.removeAnswer(a.courseID,a.uploadHW.workID,e);case 6:case"end":return r.stop()}},r,a)}))()}})}},cHtD:function(t,e,a){"use strict";var r=a("/5sW"),n=a("/ocq"),o=a("EWfp"),i=a("aaPh"),s=a("8HEu"),l=a("FjSB");r.a.use(n.a),e.a=new n.a({mode:"history",linkActiveClass:"active",routes:[{path:"/",name:"Ecourse",component:o.a,children:[{path:"/course",component:s.a},{name:"Course",path:"/course/:id",component:i.a},{name:"table",path:"/timeTable",component:l.a}]},{path:"/*",redirect:"/"}]})},cwXR:function(t,e,a){"use strict";function r(t){a("iit1")}var n=a("hvH+"),o=a("VU/8"),i=r,s=o(null,n.a,!1,i,null,null);e.a=s.exports},eJfl:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),o=a("exGp"),i=a.n(o),s=a("Zrlr"),l=a.n(s),c=a("wxAW"),u=a.n(c),d=a("mtWM"),p=a.n(d),v=a("5Ywj"),f=a("DEN3"),h=function(){function t(){l()(this,t)}return u()(t,null,[{key:"getData",value:function(){function t(t){return e.apply(this,arguments)}var e=i()(n.a.mark(function t(e){var a,r,o,i,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get(f.ecourse.TEXTBOOK).catch(function(t){return v.a.errHandler(t,"Get Textbook Error!")});case 2:return a=t.sent,t.prev=3,r=/var Textbook\s=\s(.+)/.exec(a.data)[1],o=/var ChapTitle\s=\s(.+)/.exec(a.data)[1],i=JSON.parse(r.slice(0,-1)),console.log("Textbook:\n",i),s=JSON.parse(o.slice(0,-1)),console.log("ChapterTitle:\n",s),t.abrupt("return",{stat:!0,data:{textbook:i,chapter:s}});case 13:return t.prev=13,t.t0=t.catch(3),v.a.errHandler(t.t0,"Parse Textbook Fail!"),t.abrupt("return",{stat:!1,data:[]});case 17:case"end":return t.stop()}},t,this,[[3,13]])}));return t}()}]),t}();e.a=h},"hvH+":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)},n=[],o={render:r,staticRenderFns:n};e.a=o},ihBo:function(t,e,a){"use strict";var r=a("Gu7T"),n=a.n(r),o=a("Xxa5"),i=a.n(o),s=a("exGp"),l=a.n(s),c=a("Zrlr"),u=a.n(c),d=a("wxAW"),p=a.n(d),v=a("mw3O"),f=a.n(v),h=a("mtWM"),m=a.n(h),g=a("5Ywj"),w=a("DEN3"),b=new TextDecoder("big5"),k=function(){function t(){u()(this,t)}return p()(t,null,[{key:"getIndex",value:function(){function t(){return e.apply(this,arguments)}var e=l()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get(w.ecourse.INDEX,{responseType:"arraybuffer"}).catch(function(t){return g.a.errHandler(t,"Get MainPage Error!")});case 2:return e=t.sent,t.abrupt("return",b.decode(e.data));case 4:case"end":return t.stop()}},t,this)}));return t}()},{key:"getData",value:function(t){var e={name:"匿名用戶",classes:"抓取資料",studentId:"",department:"錯誤"};try{var a=/：([\u4e00-\u9fa5 a-zA-Z0-9\s()]+).{15}：([0-9]+).{15}：([\u4e00-\u9fa5\/a-zA-Z0-9]+).{15}：([a-zA-Z0-9]+)/,r=[].concat(n()(a.exec(t)));return e.name=r[1],e.classes=r[4],e.studentId=r[2],e.department=r[3],e}catch(t){return g.a.errHandler(t,"Parse User Fail!"),e}}},{key:"login",value:function(){function t(t){return e.apply(this,arguments)}var e=l()(i.a.mark(function t(e){var a,r,n=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={},r=!1,e=f.a.stringify(e),t.next=5,m.a.post(w.ecourse.LOGIN,e).then(function(t){r=!0}).catch(function(t){a.stat=n.crossHandler(t)});case 5:return t.next=7,m.a.post(w.ecourse.MOBILE,e).then(function(t){r=!0}).catch(function(t){a.stat=n.crossHandler(t)});case 7:return r&&(a.stat=!1,a.message="登入失敗: 帳號密碼錯誤"),t.abrupt("return",a);case 9:case"end":return t.stop()}},t,this)}));return t}()},{key:"logout",value:function(){function t(){return e.apply(this,arguments)}var e=l()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get(w.ecourse.LOGOUT).catch(function(t){return g.a.errHandler(t,"Logout Error!")});case 2:case"end":return t.stop()}},t,this)}));return t}()},{key:"ping",value:function(){function t(){return e.apply(this,arguments)}var e=l()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get(w.ecourse.PING).catch(function(t){return g.a.errHandler(t,"Ping Error!")});case 2:case"end":return t.stop()}},t,this)}));return t}()},{key:"crossHandler",value:function(t){return"Network Error"===t.message||(g.a.errHandler(t,"Login Error!"),!1)}}]),t}();e.a=k},iit1:function(t,e){},jWTn:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{id:"course-table","align-center":"align-center"}},[a("v-layout",{ref:"layout",staticClass:"text-xs-center",attrs:{wrap:"wrap"}},[a("v-flex",{staticStyle:{"z-index":"3"},attrs:{xs12:"xs12"}},[a("div",{staticClass:"term",on:{click:function(e){t.changeTerm(1)}}},[t._v("上學期")]),a("v-btn",{attrs:{flat:"flat",icon:"icon",loading:t.loading},on:{click:t.fetch}},[a("v-icon",{attrs:{id:"reload-table",light:"light"}},[t._v("mdi-refresh")])],1),a("div",{staticClass:"term",on:{click:function(e){t.changeTerm(2)}}},[t._v("下學期")])],1),a("v-flex",{attrs:{xs2:"xs2",sm2:"sm2",md1:"md1"}},t._l(t.hour,function(e,r){return a("div",{key:e,staticClass:"time-item",style:{top:15+r*t.timeHeight+"px"},on:{click:function(e){t.selected="none"}}},[a("span",[t._v(t._s(e)+" -")])])})),t._l(t.week,function(e,r){return a("v-flex",{key:e,attrs:{xs2:"xs2"},on:{click:function(e){t.selected="none"}}},[a("div",{staticClass:"course-item",on:{click:function(e){t.selected="none"}}},[t._v(t._s(e))]),t._l(t.table[r],function(e){return[a("div",{staticClass:"course-item",class:{active:t.selected===e.id},style:{top:e.distance*t.height+"px",height:(e.end-e.start)*t.height+"px"},on:{click:function(a){a.stopPropagation(),t.showInfo(e)}}},[a("div",{staticClass:"course-text-wrapper"},[a("span",{staticClass:"course-title",class:{small:e.name.length>10}},[t._v(t._s(t.isMobile?e.name.slice(0,10):e.name))]),!t.isMobile&&e.name.length<10?a("span",[t._v(t._s(e.time))]):t._e()])])]})],2)}),a("v-dialog",{attrs:{width:"300px"},model:{value:t.dialog.flag,callback:function(e){t.$set(t.dialog,"flag",e)},expression:"dialog.flag"}},[a("div",{staticClass:"text-xs-center course-dialog"},[a("p",{staticStyle:{"font-size":"24px","padding-bottom":"20px"}},[t._v(t._s(t.dialog.name))]),a("p",[t._v("授課教授: "),a("b",[t._v(t._s(t.dialog.professor))])]),a("p",[t._v("上課地點: "),a("b",[t._v(t._s(t.dialog.location))])]),a("p",[t._v("上課時間: "),a("b",[t._v(t._s(t.dialog.time))])])])])],2)],1)},n=[],o={render:r,staticRenderFns:n};e.a=o},je9L:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{class:{"weather-theme":t.setting.weatherTheme},attrs:{id:"ccu"}},[r("v-navigation-drawer",{staticClass:"gray-bg",attrs:{persistent:"persistent","enable-resize-watcher":"enable-resize-watcher",app:"app"},model:{value:t.flag.drawer,callback:function(e){t.$set(t.flag,"drawer",e)},expression:"flag.drawer"}},[r("v-toolbar",{staticClass:"pa-3",attrs:{id:"personal-info",flat:"flat"}},[r("v-list",{staticClass:"pa-0",attrs:{"two-line":"two-line"}},[t.User.loggedIn?r("v-list-tile",{staticClass:"px-4",attrs:{avatar:"avatar",ripple:"ripple"}},[r("v-list-tile-avatar",{attrs:{size:"58"}},[r("div",{attrs:{id:"avatar-overlay"},on:{click:function(e){t.$refs.avatar.click()}}},[r("v-icon",{attrs:{dark:"dark"}},[t._v("mdi-cloud-upload")]),r("input",{ref:"avatar",attrs:{type:"file"},on:{change:t.uploadAvatar}})],1),t.avatar.length?r("img",{staticClass:"avatar-wrapper elevation-1",staticStyle:{"object-fit":"cover"},attrs:{src:t.avatar}}):r("img",{staticClass:"avatar-wrapper elevation-1",attrs:{src:a("NMl0")}})]),r("v-list-tile-content",{staticClass:"ml-3"},[r("v-list-tile-title",[t._v(t._s(t.User.name))]),r("v-list-tile-sub-title",{staticClass:"blue-grey--text lighten-1--text"},[r("v-icon",{staticClass:"blue-grey--text lighten-1--text body-1"},[t._v("mdi-map-marker")]),r("span",[t._v(t._s(t.User.department)+" | "+t._s(t.User.classes))])],1)],1)],1):r("v-list-tile",{staticClass:"px-4"},[r("v-list-tile-content",[r("v-btn",{attrs:{color:"primary","aria-label":"login",loading:t.loading,disabled:t.loading,dark:"dark"},on:{click:function(e){t.flag.login=!0}}},[t._v("登入")])],1)],1)],1)],1),r("v-list",{staticClass:"pt-0 striped course-list",attrs:{dense:"dense","two-line":t.isMobile,"three-line":!t.isMobile}},[r("v-list-tile",[r("v-list-tile-action"),r("v-list-tile-content",[r("v-list-tile-title",{attrs:{id:"course-head"}},[r("span",[t._v("課程列表")])])],1),r("v-list-tile-action",[r("v-tooltip",{attrs:{right:"right"}},[r("v-btn",{attrs:{slot:"activator",icon:"icon","aria-label":"table",to:{name:"table"}},slot:"activator"},[r("v-icon",[t._v("mdi-table-large")])],1),r("span",[t._v("課表")])],1)],1)],1),t._l(t.CourseList,function(e,a){return r("v-list-tile",{key:e.id,attrs:{to:{name:"Course",params:{id:e.id}},ripple:!t.isMobile}},[r("v-list-tile-action"),r("v-list-tile-content",[r("v-list-tile-title",{staticClass:"course-list-name"},[r("span",[t._v(t._s(e.name))])]),r("v-list-tile-sub-title",[r("span",[t._v(t._s(e.professor))])])],1)],1)})],2)],1),r("v-toolbar",{class:{"is-scroll":t.isScroll},attrs:{id:"color-nav",dark:"dark",color:"primary",fixed:"fixed",app:"app"}},[r("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.flag.drawer=!t.flag.drawer}}},[r("v-icon",[t._v("mdi-menu")])],1),r("router-link",{staticClass:"cursor-p",attrs:{tag:"div",to:{path:"/"}}},[r("v-toolbar-title",{staticClass:"no-select",attrs:{id:"ecourse-logo"}},[t._v("eCourse+")])],1),r("v-spacer"),r("v-menu",{attrs:{left:"left",bottom:"bottom","min-width":"200","max-height":t.isMobile?500:700,"offset-y":"offset-y"}},[r("v-btn",{attrs:{slot:"activator",id:"notification-btn",icon:"icon","aria-label":"notify"},slot:"activator"},[r("v-badge",{directives:[{name:"show",rawName:"v-show",value:t.Notify.length,expression:"Notify.length"}],attrs:{overlap:"overlap",color:t.setting.weatherTheme?"red darken-1":"blue"}},[r("span",{attrs:{slot:"badge"},slot:"badge"},[t._v(t._s(t.Notify.length))]),r("v-icon",[t._v("mdi-bell")])],1),r("v-icon",{directives:[{name:"show",rawName:"v-show",value:!t.Notify.length,expression:"!Notify.length"}]},[t._v("mdi-bell")])],1),r("v-card",[r("v-card-title",[t._v("通知"),r("v-spacer"),r("a",{on:{click:function(e){t.updateNotify(null)}}},[t._v("清除全部")])],1),r("v-list",{staticClass:"tile-hover pa-0",attrs:{"two-line":"two-line",subheader:"subheader"}},[t._l(t.Notify,function(e,a){return[r("v-divider"),r("v-list-tile",{key:a,attrs:{ripple:"ripple",avatar:"avatar"},nativeOn:{click:function(e){t.toNotify(a)}}},[r("v-list-tile-avatar",[r("v-avatar",{staticClass:"notify-avatar",class:t.notifyColor[a%6]},[r("span",{staticClass:"white--text"},[t._v(t._s(e.course[0].charCodeAt(0)>122?e.course.substring(0,2):e.course.substring(0,4)))])])],1),r("v-list-tile-content",[r("v-list-tile-title",[r("b",[t._v(t._s(e.course))]),t._v("發布了"+t._s(1===e.type?"新公告":"新作業")+" "),r("b",[t._v(t._s(e.title))])]),r("v-list-tile-sub-title",[t._v(t._s(e.timeStamp))])],1)],1)]})],2)],1)],1),r("v-menu",[r("v-btn",{attrs:{slot:"activator",id:"setting-btn",icon:"icon","aria-label":"setting"},slot:"activator"},[r("v-icon",[t._v("mdi-settings")])],1),r("v-list",[r("v-list-tile",{staticClass:"list__tile--link"},[r("v-list-tile-title",{on:{click:function(e){t.flag.theme=!0}}},[t._v("  主題")])],1),r("v-list-tile",{staticClass:"list__tile--link"},[r("v-list-tile-title",{on:{click:function(e){t.flag.setting=!0}}},[t._v("  設定")])],1),r("v-list-tile",{staticClass:"list__tile--link"},[r("v-list-tile-title",{on:{click:function(e){t.flag.about=!0}}},[t._v("  關於本站")])],1),r("v-divider"),t.User.loggedIn?t._e():r("v-list-tile",{staticClass:"list__tile--link"},[r("v-list-tile-title",{on:{click:function(e){t.flag.login=!0}}},[t._v(" "),r("v-icon",[t._v("mdi-logout-variant")]),t._v(" 登入")],1)],1),t.User.loggedIn?r("v-list-tile",{staticClass:"list__tile--link"},[r("v-list-tile-title",{on:{click:t.logout}},[t._v(" "),r("v-icon",[t._v("mdi-logout-variant")]),t._v(" 登出")],1)],1):t._e()],1)],1)],1),r("v-snackbar",{staticClass:"short",attrs:{timeout:t.toast.timeout,top:t.toast.top,left:t.toast.left,right:t.toast.right,bottom:t.toast.bottom,color:t.toast.color,"multi-line":t.toast.multi},model:{value:t.toast.show,callback:function(e){t.$set(t.toast,"show",e)},expression:"toast.show"}},[t._v(t._s(t.toast.message))]),r("div",{staticClass:"theme-wrapper"},[t.setting.weatherTheme?r("svg",{staticClass:"bg-mask",class:t.currWeather,attrs:{viewBox:"0 0 1 1",preserveAspectRatio:"xMidYMid slice"}},[r("defs",[r("mask",{attrs:{id:"mask",fill:"url(#gradient)"}},[r("rect",{attrs:{x:"0",y:"0",width:"1",height:"1"}})]),r("linearGradient",{attrs:{id:"gradient",x1:"0",y1:"0",x2:"100%",y2:"0",spreadMethod:"pad",gradientTransform:"rotate(45)"}},[r("stop",{attrs:{offset:"0%","stop-color":"#fff","stop-opacity":"1"}}),r("stop",{attrs:{offset:"100%","stop-color":"#fff","stop-opacity":"0"}})],1)],1),r("rect",{staticClass:"gradient-bg",attrs:{x:"0",y:"0",width:"100",height:"100"}}),r("rect",{staticClass:"gradient-fg",attrs:{x:"0",y:"0",width:"100",height:"100",mask:"url(#mask)"}})]):t._e(),t.setting.weatherTheme?r("div",{class:{horizon:"/"===t.$route.path},attrs:{id:"mountain"}}):t._e()]),r("v-content",{class:{"mb-5":t.$route.params.id,"mb-0":!t.$route.params.id}},[r("transition",{attrs:{name:"slide",mode:"out-in"}},["/"===t.$route.path?r("v-jumbotron",{staticClass:"main-card",attrs:{gradient:"to right top, #1867c0, #19e5f4",height:"auto",dark:"dark"}},[r("v-container",{class:{"py-5":!t.isMobile},attrs:{"fill-height":"fill-height","align-center":"align-center"}},[r("v-layout",{staticClass:"text-xs-center",attrs:{"align-center":"align-center",wrap:"wrap"}},[r("v-flex",{staticClass:"no-select",attrs:{xs12:"xs12"}},[r("v-avatar",{staticClass:"grey lighten-4",class:{"mt-4":t.isMobile,"mt-5":!t.isMobile},attrs:{size:t.isMobile?174:194}},[r("img",{attrs:{src:a("2zNh"),alt:"Logo"}}),r("div",{staticClass:"img-circle",class:{mobile:t.isMobile}})]),r("h1",{staticClass:"display-3 head-name"},[t._v("eCourse+")]),r("div",{staticClass:"headline mb-3 mx-3"},[t._v("輕鬆瀏覽公告、作業、教材與成績")]),r("div",{staticClass:"mb-5"},[r("v-tooltip",{attrs:{top:"top"}},[r("v-btn",{staticClass:"mx-3",attrs:{slot:"activator",icon:"icon",large:"large",color:"white",href:"https://fb.me/EcourseP",target:"_blank",rel:"noopener"},slot:"activator"},[r("v-icon",{attrs:{color:"primary"}},[t._v("mdi-facebook")])],1),r("span",[t._v("Facebook")])],1),r("v-tooltip",{attrs:{top:"top"}},[r("v-btn",{staticClass:"mx-3",attrs:{slot:"activator",icon:"icon",large:"large",color:"white"},slot:"activator"},[r("v-icon",{attrs:{color:"primary"}},[t._v("mdi-twitter")])],1),r("span",[t._v("別按了 沒有twitter")])],1),r("v-tooltip",{attrs:{top:"top"}},[r("v-btn",{staticClass:"mx-3",attrs:{slot:"activator",icon:"icon",large:"large",color:"white",href:"https://github.com/pionxzh/eCourse-Plus-Plus",target:"_blank",rel:"noopener"},slot:"activator"},[r("v-icon",{attrs:{color:"primary"}},[t._v("mdi-github-circle")])],1),r("span",[t._v("GitHub")])],1)],1),t.User.loggedIn?t._e():r("v-btn",{staticClass:"mb-2 white--text",staticStyle:{"background-color":"#e91e63"},attrs:{loading:t.loading,disabled:t.loading,large:"large"},on:{click:function(e){t.flag.login=!0}}},[r("strong",[t._v("開始使用")])]),t.User.loggedIn&&t.isMobile&&!t.isApp?r("v-btn",{staticClass:"mb-2 primary--text",attrs:{color:"white",large:"large"},on:{click:t.showpPrompt}},[r("v-icon",[t._v("mdi-apps")]),r("strong",[t._v(" 添加為App")])],1):t._e(),t.User.loggedIn&&!t.isMobile|t.isApp?r("v-btn",{staticClass:"mb-2 primary--text",attrs:{color:"white",to:{name:"table"},large:"large"}},[r("v-icon",[t._v("mdi-apps")]),r("strong",[t._v(" 查看課表")])],1):t._e(),r("div",[t._v("Version 1.0.5")]),r("div",[t._v("- 新增新公告、作業通知系統")])],1)],1)],1)],1):r("v-container",{attrs:{fluid:"fluid"}},[r("transition",{attrs:{name:"slide",mode:"out-in"}},[r("keep-alive",[r("router-view",{attrs:{tab:t.tag,focusItem:t.focusItem},on:{"update:tab":function(e){t.tag=e},"update:focusItem":function(e){t.focusItem=e}}})],1)],1)],1)],1)],1),t.$route.params.id?r("v-bottom-nav",{staticClass:"hidden-md-and-up",attrs:{app:"app",fixed:"fixed",shift:"shift",active:t.tag,color:t.bottomNavColor},on:{"update:active":function(e){t.tag=e}}},[r("v-btn",{attrs:{flat:"flat",dark:"dark",value:"announce"}},[r("span",[t._v("公告")]),r("v-icon",[t._v("mdi-calendar-text")])],1),r("v-btn",{attrs:{flat:"flat",dark:"dark",value:"homework"}},[r("span",[t._v("作業")]),r("v-icon",[t._v("mdi-clipboard-text")])],1),r("v-btn",{attrs:{flat:"flat",dark:"dark",value:"textbook"}},[r("span",[t._v("教材")]),r("v-icon",[t._v("mdi-book-open-variant")])],1),r("v-btn",{attrs:{flat:"flat",dark:"dark",value:"score"}},[r("span",[t._v("成績")]),r("v-icon",[t._v("mdi-chart-line")])],1)],1):t._e(),"/"===t.$route.path?r("v-footer",{staticClass:"hidden-sm-and-down",attrs:{id:"footer",absolute:"absolute"}},[r("v-spacer"),r("span",[t._v("© 2018 Developed by Pionxzh")]),r("v-spacer")],1):t._e(),r("v-fab-transition",[r("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isScroll,expression:"isScroll"},{name:"scroll",rawName:"v-scroll",value:t.onScroll,expression:"onScroll"}],staticClass:"hidden-sm-and-down",staticStyle:{margin:"6px 8px"},attrs:{fixed:"fixed","aria-label":"fab",bottom:"bottom",right:"right",dark:"dark",fab:"fab",color:"red"},on:{click:t.toTop}},[r("v-icon",[t._v("mdi-chevron-up")])],1)],1),r("v-fab-transition",{staticClass:"hidden-sm-and-down"},[r("v-speed-dial",{directives:[{name:"show",rawName:"v-show",value:t.$route.params.id&&!t.isScroll,expression:"$route.params.id && !isScroll"}],staticClass:"hidden-sm-and-down",staticStyle:{"z-index":"10"},attrs:{fixed:"fixed",bottom:"bottom",right:"right","open-on-hover":!t.isMobile,transition:"slide-x-transition"}},[r("v-btn",{attrs:{slot:"activator","aria-label":"close",color:"red",dark:"dark",fab:"fab"},slot:"activator"},[r("v-icon",[t._v("mdi-rocket")])],1),r("v-tooltip",{attrs:{left:"left"}},[r("v-btn",{attrs:{slot:"activator",fab:"fab",dark:"dark","aria-label":"setting",color:"blue darken-2"},on:{click:function(e){t.flag.setting=!0}},slot:"activator"},[r("v-icon",[t._v("mdi-settings")])],1),r("span",[t._v("設定")])],1),r("v-tooltip",{attrs:{left:"left"}},[r("v-btn",{attrs:{slot:"activator",fab:"fab",dark:"dark","aria-label":"score",color:"pink"},on:{click:function(e){t.tag="score"}},slot:"activator"},[r("v-icon",[t._v("mdi-chart-line")])],1),r("span",[t._v("成績")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"450"},model:{value:t.flag.theme,callback:function(e){t.$set(t.flag,"theme",e)},expression:"flag.theme"}},[r("v-toolbar",{staticClass:"cyan no-select",attrs:{dark:"dark"}},[r("v-icon",[t._v("mdi-brightness-6")]),r("v-toolbar-title",[t._v("主題")]),r("v-spacer"),r("v-btn",{staticClass:"mr-3",attrs:{icon:"icon"},on:{click:function(e){t.flag.theme=!1}}},[r("v-icon",[t._v("mdi-close")])],1)],1),r("v-card",{staticClass:"dialog-box"},[r("v-container",{attrs:{fluid:"fluid","grid-list-md":"grid-list-md"}},[r("v-layout",{attrs:{row:"row",wrap:"wrap"}},[r("v-flex",{attrs:{xs6:"xs6"}},[r("v-card",{staticClass:"theme-card",nativeOn:{click:function(e){t.setting.weatherTheme=!1}}},[r("v-card-media",{attrs:{src:a("NMl0"),height:"200px"}}),r("v-card-text",[t._v("預設主題")])],1)],1),r("v-flex",{attrs:{xs6:"xs6"}},[r("v-card",{staticClass:"theme-card",nativeOn:{click:function(e){t.setting.weatherTheme=!0}}},[r("v-card-media",{attrs:{src:a("Ri/9"),height:"200px"}}),r("v-card-text",[t._v("天色主題")])],1)],1)],1)],1)],1)],1),r("v-dialog",{attrs:{"max-width":"450",fullscreen:t.isMobile,scroll:"scroll"},model:{value:t.flag.setting,callback:function(e){t.$set(t.flag,"setting",e)},expression:"flag.setting"}},[r("v-toolbar",{staticClass:"blue no-select",attrs:{dark:"dark",fixed:t.isMobile}},[r("v-icon",[t._v("mdi-wrench")]),r("v-toolbar-title",[t._v("設定")]),r("v-spacer"),r("v-btn",{staticClass:"mr-3",attrs:{icon:"icon"},on:{click:function(e){t.flag.setting=!1}}},[r("v-icon",[t._v("mdi-close")])],1)],1),r("v-list",{staticClass:"tile-hover",class:{"mt-5":t.isMobile},attrs:{"two-line":"two-line",subheader:"subheader"}},[t._l(t.settingData,function(e,a){return[r("v-subheader",{key:a,staticClass:"no-select"},[t._v(t._s(a))]),t._l(e,function(e){return r("v-list-tile",{key:e.title,attrs:{ripple:"ripple",avatar:"avatar"},on:{click:function(t){}}},[r("v-list-tile-action",[r("v-switch",{attrs:{color:"blue darken-1"},model:{value:t.setting[e.field],callback:function(a){t.$set(t.setting,e.field,a)},expression:"setting[subItem.field]"}})],1),r("v-list-tile-content",{on:{click:function(a){t.setting[e.field]=!t.setting[e.field]}}},[r("v-list-tile-title",[t._v(t._s(e.title))]),r("v-list-tile-sub-title",[t._v(t._s(e.description))])],1)],1)}),r("v-divider")]})],2)],1),r("v-dialog",{attrs:{"max-width":"450"},model:{value:t.flag.about,callback:function(e){t.$set(t.flag,"about",e)},expression:"flag.about"}},[r("v-toolbar",{staticClass:"red no-select",attrs:{dark:"dark"}},[r("v-icon",[t._v("mdi-flash-circle")]),r("v-toolbar-title",[t._v("關於")]),r("v-spacer"),r("v-btn",{staticClass:"mr-3",attrs:{icon:"icon"},on:{click:function(e){t.flag.about=!1}}},[r("v-icon",[t._v("mdi-close")])],1)],1),r("v-list",{staticClass:"tile-hover",attrs:{"two-line":"two-line",subheader:"subheader"}},[r("v-subheader",{staticClass:"no-select"},[t._v("關於")]),r("v-list-tile",{attrs:{ripple:"ripple",avatar:"avatar"},on:{click:function(t){}}},[r("v-list-tile-action",[r("v-icon",[t._v("mdi-code-array")])],1),r("v-list-tile-content",[r("v-list-tile-title",[t._v("eCourse+ ")]),r("v-list-tile-sub-title",[t._v("v1.0.3")])],1)],1),r("v-list-tile",{attrs:{ripple:"ripple",avatar:"avatar"},on:{click:function(t){}}},[r("v-list-tile-action",[r("v-icon",[t._v("mdi-account-circle")])],1),r("v-list-tile-content",[r("v-list-tile-title",[t._v("作者")]),r("v-list-tile-sub-title",[t._v("@Pionxzh  ← 歡迎找我吃雞 ID一樣")])],1)],1),r("v-divider"),r("v-subheader",{staticClass:"no-select"},[t._v("GitHub")]),r("v-list-tile",{attrs:{ripple:"ripple",avatar:"avatar",href:"https://github.com/pionxzh/eCourse-Plus-Plus",target:"_blank",rel:"noopener"}},[r("v-list-tile-action",[r("v-icon",[t._v("mdi-github-circle")])],1),r("v-list-tile-content",[r("v-list-tile-title",[t._v("eCourse-Plus-Plus")]),r("v-list-tile-sub-title",[t._v("歡迎Star, 發PR")])],1)],1),r("v-divider"),r("v-subheader",{staticClass:"no-select"},[t._v("斗內")]),r("v-list-tile",{attrs:{ripple:"ripple",avatar:"avatar",href:"https://paypal.me/pionxzh",target:"_blank",rel:"noopener"}},[r("v-list-tile-action",[r("v-icon",[t._v("mdi-credit-card")])],1),r("v-list-tile-content",[r("v-list-tile-title",[t._v("Paypal")]),r("v-list-tile-sub-title",[t._v("如果你覺得我的作品不錯，歡迎贊助我一杯咖啡:D")])],1)],1)],1)],1),r("v-dialog",{attrs:{width:"300px"},model:{value:t.flag.login,callback:function(e){t.$set(t.flag,"login",e)},expression:"flag.login"}},[r("v-card",{staticClass:"dialog-box"},[r("v-card-title",{staticClass:"headline"},[r("div",{staticClass:"text-xs-center"},[t._v("登入帳號")])]),r("v-card-text",{staticStyle:{"font-size":"15px"}},[t._v("※請輸入"),r("b",[t._v("單一入口帳號密碼")]),r("v-container",{attrs:{"grid-list-md":"grid-list-md"}},[r("v-layout",{attrs:{wrap:"wrap"}},[r("v-flex",{attrs:{xs12:"xs12"}},[r("v-text-field",{attrs:{label:"帳號",required:"required"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),r("v-flex",{attrs:{xs12:"xs12"}},[r("v-text-field",{attrs:{label:"密碼",required:"required",type:"password"},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.login(!1)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1","aria-label":"login",loading:t.loading,large:"large",dark:"dark"},on:{click:function(e){t.login(!1)}}},[r("v-icon",[t._v("mdi-flash")]),t._v("登入")],1),r("v-spacer")],1)],1)],1)],1)},n=[],o={render:r,staticRenderFns:n};e.a=o},lnPn:function(t,e,a){"use strict";var r=a("H883"),n=a("ODRO"),o=a("VU/8"),i=o(r.a,n.a,!1,null,null,null);e.a=i.exports},mUbh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a.d(e,"updateUser",function(){return i}),a.d(e,"updateTimeTable",function(){return s}),a.d(e,"updateCourse",function(){return l}),a.d(e,"updateAnnounce",function(){return c}),a.d(e,"updateHomework",function(){return u}),a.d(e,"updateTextbook",function(){return d}),a.d(e,"updateSetting",function(){return p}),a.d(e,"updateScore",function(){return v}),a.d(e,"updateRoll",function(){return f}),a.d(e,"updateHwFile",function(){return h}),a.d(e,"updateNotify",function(){return m}),a.d(e,"updateAnnNotify",function(){return g}),a.d(e,"updateHwNotify",function(){return w}),a.d(e,"loadLocalData",function(){return b}),a.d(e,"clearData",function(){return k});var r=a("d7EF"),n=a.n(r),o=a("BcEq"),i=function(t,e){(0,t.commit)(o.o,e)},s=function(t,e){(0,t.commit)(o.m,e)},l=function(t,e){(0,t.commit)(o.d,e)},c=function(t,e){(0,t.commit)(o.a,e)},u=function(t,e){(0,t.commit)(o.e,e)},d=function(t,e){(0,t.commit)(o.n,e)},p=function(t,e){(0,t.commit)(o.l,e)},v=function(t,e){(0,t.commit)(o.k,e)},f=function(t,e){(0,t.commit)(o.j,e)},h=function(t,e){(0,t.commit)(o.g,e)},m=function(t,e){(0,t.commit)(o.i,e)},g=function(t,e){var a=t.commit,r=n()(e,2),i=r[0],s=r[1];a(o.b,[i,s])},w=function(t,e){var a=t.commit,r=n()(e,2),i=r[0],s=r[1];a(o.f,[i,s])},b=function(t){(0,t.commit)(o.h)},k=function(t){(0,t.commit)(o.c)}},nid1:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),o=a("exGp"),i=a.n(o),s=a("Zrlr"),l=a.n(s),c=a("wxAW"),u=a.n(c),d=a("mtWM"),p=a.n(d),v=a("5Ywj"),f=a("DEN3"),h=new TextDecoder("big5"),m=function(){function t(){l()(this,t)}return u()(t,null,[{key:"getList",value:function(t){try{for(var e=/login_s\.php\?courseid=[0-9]+_[0-9]+_([0-9]+)" target="_top">([\u4e00-\u9fa5 a-zA-Z0-9\s()（：）-]+)<\/a>.+?;">([\u4e00-\u9fa5]+)<\/a>/g,a=e.exec(t),r=[];a;)r.push({id:a[1],name:a[2],professor:a[3]}),a=e.exec(t);return console.log("CourseList:\n",r),{stat:!0,data:r}}catch(t){return v.a.errHandler(t,"Parse Course Fail!"),{stat:!1,data:localStorage.courseList?JSON.parse(localStorage.courseList):[]}}}},{key:"changeCourse",value:function(){function t(t){return e.apply(this,arguments)}var e=i()(n.a.mark(function t(e){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==this.previous){t.next=2;break}return t.abrupt("return",!1);case 2:return this.previous=e,t.next=5,p.a.get(f.ecourse.COURSE_SELECT,{responseType:"arraybuffer",params:{courseid:"106_2_"+e}}).catch(function(t){return v.a.errHandler});case 5:return a=t.sent,t.abrupt("return",-1===h.decode(a.data).indexOf("權限錯誤"));case 7:case"end":return t.stop()}},t,this)}));return t}()}]),t}();e.a=m},nx4Q:function(t,e,a){"use strict";var r=a("mvHQ"),n=a.n(r),o=a("//Fk"),i=a.n(o),s=a("BO1k"),l=a.n(s),c=a("Xxa5"),u=a.n(c),d=a("exGp"),p=a.n(d),v=a("Zrlr"),f=a.n(v),h=a("wxAW"),m=a.n(h),g=a("mw3O"),w=a.n(g),b=a("mtWM"),k=a.n(b),x=a("5Ywj"),y=a("Ba3q"),_=a.n(y),S=new TextDecoder("big5"),C=a("DEN3"),N=function(){function t(){f()(this,t)}return m()(t,null,[{key:"getData",value:function(){function t(t){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e){var a,r,n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get(C.ecourse.HOMEWORK).catch(function(t){return x.a.errHandler(t,"Get Homework Error!")});case 2:return a=t.sent,t.prev=3,r=/var js\s=\s(.+)/.exec(a.data)[1],n=JSON.parse(r.slice(0,-1)),console.log("Homework:\n",n),t.abrupt("return",{stat:!0,data:this.parseData(n)});case 10:return t.prev=10,t.t0=t.catch(3),x.a.errHandler(t.t0,"Parse Homework Fail!"),t.abrupt("return",{stat:!1,data:[]});case 14:case"end":return t.stop()}},t,this,[[3,10]])}));return t}()},{key:"parseData",value:function(t){var e=[],a=new Date,r=localStorage.hwNotify?JSON.parse(localStorage.hwNotify):{};return[t.reduce(function(t,n){var o=n[0];return r[o]||(r[o]={}),t[o]={},t[o].name=n[1],t[o].list=null===n[2]?[{title:"暫無作業"}]:n[2].reduce(function(t,i){var s=i[1];if(void 0===r[o][s]){var l=Math.abs(a-new Date(i[3]))<6048e5;r[o][s]=l,l&&e.push({type:2,id:s,title:i[0],course:n[1],courseID:o,timeStamp:i[3]})}return t.push({id:i[1],title:i[0],content:i[4]||"沒有內容",percentage:i[2],timeStamp:i[3]}),_()(t,["timeStamp","title"],["desc","asc"])},[]),t},{}),r,e]}},{key:"getAllQuestion",value:function(){function t(t){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e){var a,r,o,s,c,d,p,v,f,h,m,g,w;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=x.a.getToday(),this.homeworkFile={},r=[],o=localStorage.homeworkFile?JSON.parse(localStorage.homeworkFile):{},t.t0=u.a.keys(e);case 5:if((t.t1=t.t0()).done){t.next=40;break}s=t.t1.value,c=e[s].list,this.homeworkFile[s]={},d=!0,p=!1,v=void 0,t.prev=12,f=l()(c);case 14:if(d=(h=f.next()).done){t.next=24;break}if(m=h.value,m.id){t.next=18;break}return t.abrupt("continue",21);case 18:g=m.id,w=!!o[s]&&!!o[s][g]&&a>m.timeStamp&&Date.now()<o[s][g].timeStamp+864e5,w?this.homeworkFile[s][g]=o[s][g]:r.push(this.getQuestion(s,g));case 21:d=!0,t.next=14;break;case 24:t.next=30;break;case 26:t.prev=26,t.t2=t.catch(12),p=!0,v=t.t2;case 30:t.prev=30,t.prev=31,!d&&f.return&&f.return();case 33:if(t.prev=33,!p){t.next=36;break}throw v;case 36:return t.finish(33);case 37:return t.finish(30);case 38:t.next=5;break;case 40:return t.next=42,i.a.all(r);case 42:return console.log("HwFile:\n",this.homeworkFile),localStorage.homeworkFile=n()(this.homeworkFile),t.abrupt("return",{stat:!0,data:this.homeworkFile});case 45:case"end":return t.stop()}},t,this,[[12,26,30,38],[31,,33,37]])}));return t}()},{key:"getQuestion",value:function(){function t(t,a){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,a){var r,n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get(C.ecourse.UNDER_DIR_FILE,{params:{action:"Question",courseid:e,workid:a}}).catch(function(t){return x.a.errHandler(t,"Get Question Error!")});case 2:r=t.sent,n={type:null,timeStamp:Date.now()},r.data.size&&(n.type=r.data.type.slice(1)),this.homeworkFile[e][a]=n;case 6:case"end":return t.stop()}},t,this)}));return t}()},{key:"getAnswer",value:function(){function t(t,a){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,a){var r,n,o,i,s,c,d,p;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get(C.ecourse.UNDER_DIR_FILE,{params:{action:"seemywork",courseid:e,workid:a}}).catch(function(t){return x.a.errHandler(t,"Get Answer Error!")});case 2:if(r=t.sent,!Array.isArray(r.data)){t.next=28;break}for(n=[],r.data.pop(),o=!0,i=!1,s=void 0,t.prev=9,c=l()(r.data);!(o=(d=c.next()).done);o=!0)p=d.value,n.push({name:p[0],size:x.a.getSize(p[1]),timeStamp:p[2]});t.next=17;break;case 13:t.prev=13,t.t0=t.catch(9),i=!0,s=t.t0;case 17:t.prev=17,t.prev=18,!o&&c.return&&c.return();case 20:if(t.prev=20,!i){t.next=23;break}throw s;case 23:return t.finish(20);case 24:return t.finish(17);case 25:return t.abrupt("return",n);case 28:return t.abrupt("return",[{id:1e3*Math.random(),name:"homework.html",size:"",timeStamp:r.data.mtime}]);case 29:case"end":return t.stop()}},t,this,[[9,13,17,25],[18,,20,24]])}));return t}()},{key:"uploadText",value:function(){function t(t,a){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,a){var r,n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=w.a.stringify({ans:e,work_id:a,action:"handinwork"}),t.next=3,k.a.post(C.ecourse.SHOW_WORK,r,{responseType:"arraybuffer"});case 3:return n=t.sent,t.abrupt("return",S.decode(n.data).indexOf("成功")>-1);case 5:case"end":return t.stop()}},t,this)}));return t}()},{key:"uploadFile",value:function(){function t(t,a,r,n){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,a,r,n){var o,i,s,l;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=new FormData,o.append("work_id",n),a)for(o.append("action","uploadotherwork"),i=0;i<e.length;i++)s=e[i],o.append("uploadfile"+i,s);else o.append("action","uploadstuwork"),o.append("uploadfile1",e[0],e[0].name);return t.next=5,k.a.post(C.ecourse.SHOW_WORK,o,{responseType:"arraybuffer"});case 5:return l=t.sent,t.abrupt("return",S.decode(l.data).indexOf("成功")>-1);case 7:case"end":return t.stop()}},t,this)}));return t}()},{key:"removeAnswer",value:function(){function t(t,a,r){return e.apply(this,arguments)}var e=p()(u.a.mark(function t(e,a,r){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.get(C.ecourse.UNDER_DIR_FILE,{params:{action:"delete",courseid:e,workid:a,filename:r}});case 2:case"end":return t.stop()}},t,this)}));return t}()}]),t}();e.a=N},ukYY:function(t,e,a){"use strict";a.d(e,"a",function(){return m});var r,n=a("bOdI"),o=a.n(n),i=a("d7EF"),s=a.n(i),l=a("mvHQ"),c=a.n(l),u=a("fZjL"),d=a.n(u),p=a("/5sW"),v=a("Ba3q"),f=a.n(v),h=a("BcEq"),m=(r={},o()(r,h.o,function(t,e){d()(e).forEach(function(a){p.a.set(t.userData,a,e[a])})}),o()(r,h.m,function(t,e){t.timeTable=e,localStorage.timeTable=c()(e)}),o()(r,h.d,function(t,e){t.courseList=e,localStorage.courseList=c()(e)}),o()(r,h.a,function(t,e){var a=s()(e,4),r=a[0],n=a[1],o=a[2],i=a[3];t.notify=i,t.template=r,t.announceData=n,t.announceNotify=o,localStorage.announce=c()(n),localStorage.annNotify=c()(o)}),o()(r,h.e,function(t,e){var a=s()(e,3),r=a[0],n=a[1],o=a[2];t.homeworkData=r,t.homeworkNotify=n,t.notify=t.notify.concat(o),t.notify=f()(t.notify,["timeStamp","title"],["desc","asc"]),localStorage.homework=c()(r),localStorage.hwNotify=c()(n),localStorage.notify=c()(t.notify)}),o()(r,h.n,function(t,e){var a=e.textbook,r=e.chapter,n={};t.template.forEach(function(t,e){n[t]={},n[t].list=r[e]||{0:{0:"所有教材"}},n[t].content=a[e]}),t.textbookData=n,localStorage.textbook=c()(t.textbookData)}),o()(r,h.l,function(t,e){d()(e).forEach(function(a){p.a.set(t.settingData,a,e[a])}),localStorage.setting=c()(t.settingData)}),o()(r,h.k,function(t,e){var a=s()(e,2),r=a[0],n=a[1];p.a.set(t.scoreData,r,n),localStorage.score=c()(t.scoreData)}),o()(r,h.j,function(t,e){var a=s()(e,2),r=a[0],n=a[1];p.a.set(t.rollData,r,n),localStorage.roll=c()(t.rollData)}),o()(r,h.g,function(t,e){t.homeworkFile=e}),o()(r,h.i,function(t,e){null===e?t.notify=[]:t.notify.splice(e,1),localStorage.notify=c()(t.notify)}),o()(r,h.b,function(t,e){var a=s()(e,2),r=a[0],n=a[1];t.announceNotify[r][n]=!1,localStorage.annNotify=c()(t.announceNotify)}),o()(r,h.f,function(t,e){var a=s()(e,2),r=a[0],n=a[1];t.homeworkNotify[r][n]=!1,localStorage.hwNotify=c()(t.homeworkNotify)}),o()(r,h.h,function(t){localStorage.annNotify&&(t.courseList=JSON.parse(localStorage.courseList),t.announceData=JSON.parse(localStorage.announce),t.homeworkData=JSON.parse(localStorage.homework),t.textbookData=JSON.parse(localStorage.textbook),t.homeworkData=JSON.parse(localStorage.homework),localStorage.score&&(t.scoreData=JSON.parse(localStorage.score)),localStorage.roll&&(t.rollData=JSON.parse(localStorage.roll)),t.announceNotify=JSON.parse(localStorage.annNotify))}),o()(r,h.c,function(t){t.userData.loggedIn=!1,t.notify=[],t.courseList=[],t.announceData={},t.homeworkData={},t.textbookData={},t.announceNotify={},t.homeworkNotify={},localStorage.removeItem("user"),localStorage.removeItem("notify"),localStorage.removeItem("annNotify"),localStorage.removeItem("hwNotify")}),r)},zThr:function(t,e,a){"use strict";var r=a("Xxa5"),n=a.n(r),o=a("exGp"),i=a.n(o),s=a("L7Wk");e.a={created:function(){var t=this;return i()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.courseTable?t.table=JSON.parse(localStorage.courseTable):t.fetch();case 1:case"end":return e.stop()}},e,t)}))()},mounted:function(){var t=this;setTimeout(function(){t.height=(window.innerHeight-188)/840},300),this.timeHeight=(window.innerHeight-686)/15},data:function(){return{top:0,height:.5,timeHeight:10,isMobile:window.innerWidth<600,term:1,selected:null,loading:!1,week:["星期一","星期二","星期三","星期四","星期五"],hour:["07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00"],table:null,dialog:{flag:!1,name:null,professor:null,location:null,time:null}}},methods:{fetch:function(){var t=this;return i()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,s.a.login();case 3:return e.next=5,s.a.getData(t.term);case 5:t.table=e.sent,t.loading=!1;case 7:case"end":return e.stop()}},e,t)}))()},changeTerm:function(t){var e=this;return i()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.term=t,a.next=3,e.fetch();case 3:case"end":return a.stop()}},a,e)}))()},showInfo:function(t){this.selected=t.id,this.dialog.name=t.name,this.dialog.professor=t.professor,this.dialog.location=t.location,this.dialog.time=t.time,this.dialog.flag=!0}}}}},["NHnr"]);